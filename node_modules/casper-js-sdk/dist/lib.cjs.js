/*! For license information please see lib.cjs.js.LICENSE.txt */
(()=>{"use strict";var e={6286:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TIME_API_URL=void 0,t.TIME_API_URL="worldtimeapi.org/api/timezone/UTC"},8581:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_DEPLOY_TTL=void 0,t.DEFAULT_DEPLOY_TTL=18e5},7108:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(4400),t),o(r(4493),t)},7269:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toBytesBytesArray=t.toBytesVectorNew=t.byteHash=t.toBytesVector=t.toBytesArrayU8=t.fromBytesString=t.toBytesString=t.toBytesDeployHash=t.toBytesU512=t.toBytesU256=t.toBytesU128=t.toBytesI64=t.toBytesU64=t.toBytesU32=t.toBytesI32=t.toBytesU8=t.toBytesNumber=void 0;var n=r(5757),o=r(6644),i=r(9935),a=r(4364),s=r(9814);t.toBytesNumber=function(e,t){return function(r){var a=n.BigNumber.from(r),s=o.MaxUint256.mask(e);if(t){var u=s.mask(e-1);if(a.gt(u)||a.lt(u.add(o.One).mul(o.NegativeOne)))throw new Error("value out-of-bounds, value: "+r)}else if(a.lt(o.Zero)||a.gt(s.mask(e)))throw new Error("value out-of-bounds, value: "+r);var c=a.toTwos(e).mask(e),p=(0,i.arrayify)(c);if(c.gte(0)){if(e>64)return c.eq(0)?p:(0,i.concat)([p,Uint8Array.from([p.length])]).slice().reverse();var l=e/8;return(0,i.concat)([p.slice().reverse(),new Uint8Array(l-p.length)])}return p.reverse()}},t.toBytesU8=(0,t.toBytesNumber)(8,!1),t.toBytesI32=(0,t.toBytesNumber)(32,!0),t.toBytesU32=(0,t.toBytesNumber)(32,!1),t.toBytesU64=(0,t.toBytesNumber)(64,!1),t.toBytesI64=(0,t.toBytesNumber)(64,!0),t.toBytesU128=(0,t.toBytesNumber)(128,!1),t.toBytesU256=(0,t.toBytesNumber)(256,!1),t.toBytesU512=(0,t.toBytesNumber)(512,!1),t.toBytesDeployHash=function(e){return e},t.toBytesString=function(e){var r=Uint8Array.from(Buffer.from(e));return(0,i.concat)([(0,t.toBytesU32)(r.byteLength),r])},t.fromBytesString=function(e){return Buffer.from(e).toString()},t.toBytesArrayU8=function(e){return(0,i.concat)([(0,t.toBytesU32)(e.length),e])},t.toBytesVector=function(e){var r=e.map((function(e){return e.toBytes()})).map((function(e){return e.unwrap()}));return r.splice(0,0,(0,t.toBytesU32)(e.length)),(0,i.concat)(r)},t.byteHash=function(e){return(0,a.blake2b)(e,{dkLen:32})},t.toBytesVectorNew=function(e){var r=e.map((function(e){return s.CLValueParsers.toBytes(e).unwrap()}));return r.splice(0,0,(0,t.toBytesU32)(e.length)),(0,i.concat)(r)},t.toBytesBytesArray=function(e){return e}},3362:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CLValueBytesParsers=t.CLValueParsers=t.CLValue=t.ToBytes=t.CLType=t.resultHelper=void 0;var n=r(543),o=r(9935),i=r(7269),a=r(9957),s=r(1908),u=r(9814),c=r(5157);t.resultHelper=function(e,t){return{result:e,remainder:t}};var p=function(){function e(){}return e.prototype.toBytes=function(){return Uint8Array.from([this.tag])},e.prototype.toString=function(){return this.linksTo},e.prototype.toJSON=function(){return this.toString()},e}();t.CLType=p;t.ToBytes=function(){};var l=function(){function e(){this.isCLValue=!0}return e.prototype.toJSON=function(){return this.data},e}();t.CLValue=l;var y=function(){function e(){}return e.fromJSON=function(t){var r=(0,s.matchTypeToCLType)(t.cl_type),o=(0,c.decodeBase16)(t.bytes),i=e.fromBytes(o,r).unwrap();return(0,n.Ok)(i)},e.fromBytes=function(e,t){return(0,s.matchByteParserByCLType)(t).unwrap().fromBytes(e,t)},e.toJSON=function(t){var r=e.toBytes(t).unwrap(),o=(0,c.encodeBase16)(r),i=t.clType().toJSON();return(0,n.Ok)({bytes:o,cl_type:i})},e.toBytes=function(e){return(0,s.matchByteParserByCLType)(e.clType()).unwrap().toBytes(e)},e.toBytesWithType=function(e){var t=e.clType().toBytes(),r=(0,s.matchByteParserByCLType)(e.clType()).unwrap().toBytes(e).unwrap(),a=(0,o.concat)([(0,i.toBytesArrayU8)(r),t]);return(0,n.Ok)(a)},e.fromBytesWithType=function(e){var t=(new u.CLU32BytesParser).fromBytesWithRemainder(e),r=t.result,o=t.remainder,i=r.unwrap().value().toNumber();if(!o)return(0,n.Err)(a.CLErrorCodes.EarlyEndOfStream);var c=o.subarray(0,i),p=o.subarray(i),l=(0,s.matchBytesToCLType)(p).result,y=(0,s.matchByteParserByCLType)(l.unwrap()).unwrap().fromBytes(c,l.unwrap()).unwrap();return(0,n.Ok)(y)},e}();t.CLValueParsers=y;var f=function(){function e(){}return e.prototype.fromBytes=function(e,t){var r=this.fromBytesWithRemainder(e,t),o=r.result,i=r.remainder;return i&&i.length?(0,n.Err)(a.CLErrorCodes.LeftOverBytes):o},e}();t.CLValueBytesParsers=f},9438:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CLAccountHash=t.CLAccountHashBytesParser=t.CLAccountHashType=void 0;var i=r(543),a=r(9814),s=function(e){function t(){var t=e.call(this,a.ACCOUNT_HASH_LENGTH)||this;return t.linksTo=a.ACCOUNT_HASH_TYPE,t}return o(t,e),t}(a.CLByteArrayType);t.CLAccountHashType=s;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.toBytes=function(e){return(0,i.Ok)(e.data)},t.prototype.fromBytesWithRemainder=function(e){if(e.length<a.ACCOUNT_HASH_LENGTH)return(0,a.resultHelper)((0,i.Err)(a.CLErrorCodes.EarlyEndOfStream));var t=e.subarray(0,a.ACCOUNT_HASH_LENGTH),r=new c(t);return(0,a.resultHelper)((0,i.Ok)(r),e.subarray(a.ACCOUNT_HASH_LENGTH))},t}(a.CLValueBytesParsers);t.CLAccountHashBytesParser=u;var c=function(e){function t(t){var r=e.call(this)||this;return r.data=t,r}return o(t,e),t.prototype.clType=function(){return new s},t.prototype.value=function(){return this.data},t}(a.CLValue);t.CLAccountHash=c},1746:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CLAnyType=void 0;var i=r(9814),a=r(9957),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.linksTo=a.ANY_TYPE,t.tag=a.CLTypeTag.Any,t}return o(t,e),t}(i.CLType);t.CLAnyType=s},2361:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CLBool=t.CLBoolBytesParser=t.CLBoolType=void 0;var i=r(543),a=r(9814),s=r(9957),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.linksTo=s.BOOL_TYPE,t.tag=s.CLTypeTag.Bool,t}return o(t,e),t}(a.CLType);t.CLBoolType=u;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.toBytes=function(e){return(0,i.Ok)(new Uint8Array([e.value()?1:0]))},t.prototype.fromBytesWithRemainder=function(e){return 0===e.length?(0,a.resultHelper)((0,i.Err)(a.CLErrorCodes.EarlyEndOfStream)):1===e[0]?(0,a.resultHelper)((0,i.Ok)(new p(!0)),e.subarray(1)):0===e[0]?(0,a.resultHelper)((0,i.Ok)(new p(!1)),e.subarray(1)):(0,a.resultHelper)((0,i.Err)(a.CLErrorCodes.Formatting))},t}(a.CLValueBytesParsers);t.CLBoolBytesParser=c;var p=function(e){function t(t){var r=e.call(this)||this;return r.data=t,r}return o(t,e),t.prototype.clType=function(){return new u},t.prototype.value=function(){return this.data},t}(a.CLValue);t.CLBool=p},5034:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CLValueBuilder=t.CLTypeBuilder=void 0;var n=r(9814),o=function(){function e(){}return e.list=function(e){return new n.CLListType(e)},e.tuple1=function(e){var t=e[0];return new n.CLTuple1Type([t])},e.tuple2=function(e){var t=e[0],r=e[1];return new n.CLTuple2Type([t,r])},e.tuple3=function(e){var t=e[0],r=e[1],o=e[2];return new n.CLTuple3Type([t,r,o])},e.option=function(e){return new n.CLOptionType(e)},e.map=function(e){return new n.CLMapType(e)},e.publicKey=function(){return new n.CLPublicKeyType},e.byteArray=function(e){return new n.CLByteArrayType(e)},e.bool=function(){return new n.CLBoolType},e.u8=function(){return new n.CLU8Type},e.u32=function(){return new n.CLU32Type},e.i32=function(){return new n.CLI32Type},e.u64=function(){return new n.CLU64Type},e.i64=function(){return new n.CLI64Type},e.u128=function(){return new n.CLU128Type},e.u256=function(){return new n.CLU256Type},e.u512=function(){return new n.CLU512Type},e.unit=function(){return new n.CLUnitType},e.string=function(){return new n.CLStringType},e.key=function(){return new n.CLKeyType},e.uref=function(){return new n.CLURefType},e}();t.CLTypeBuilder=o;var i=function(){function e(){}return e.list=function(e){return new n.CLList(e)},e.tuple1=function(e){var t=e[0];return new n.CLTuple1([t])},e.tuple2=function(e){var t=e[0],r=e[1];return new n.CLTuple2([t,r])},e.tuple3=function(e){var t=e[0],r=e[1],o=e[2];return new n.CLTuple3([t,r,o])},e.option=function(e,t){return new n.CLOption(e,t)},e.map=function(e){return new n.CLMap(e)},e.publicKey=function(e,t){return new n.CLPublicKey(e,t)},e.byteArray=function(e){return new n.CLByteArray(e)},e.bool=function(e){return new n.CLBool(e)},e.u8=function(e){return new n.CLU8(e)},e.u32=function(e){return new n.CLU32(e)},e.i32=function(e){return new n.CLI32(e)},e.u64=function(e){return new n.CLU64(e)},e.i64=function(e){return new n.CLI64(e)},e.u128=function(e){return new n.CLU128(e)},e.u256=function(e){return new n.CLU256(e)},e.u512=function(e){return new n.CLU512(e)},e.unit=function(){return new n.CLUnit},e.string=function(e){return new n.CLString(e)},e.key=function(e){return new n.CLKey(e)},e.uref=function(e,t){return new n.CLURef(e,t)},e}();t.CLValueBuilder=i},9334:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CLByteArray=t.CLByteArrayBytesParser=t.CLByteArrayType=void 0;var i=r(543),a=r(9935),s=r(9814),u=r(9957),c=r(7269),p=function(e){function t(t){var r=e.call(this)||this;return r.linksTo=u.BYTE_ARRAY_TYPE,r.tag=u.CLTypeTag.ByteArray,r.size=t,r}return o(t,e),t.prototype.toBytes=function(){return(0,a.concat)([Uint8Array.from([this.tag]),(0,c.toBytesU32)(this.size)])},t.prototype.toJSON=function(){var e;return(e={})[u.BYTE_ARRAY_TYPE]=this.size,e},t}(s.CLType);t.CLByteArrayType=p;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.toBytes=function(e){return(0,i.Ok)(e.data)},t.prototype.fromBytesWithRemainder=function(e,t){var r=new y(e.subarray(0,t.size));return(0,s.resultHelper)((0,i.Ok)(r),e.subarray(t.size))},t}(s.CLValueBytesParsers);t.CLByteArrayBytesParser=l;var y=function(e){function t(t){var r=e.call(this)||this;return r.data=t,r}return o(t,e),t.prototype.clType=function(){return new p(this.data.length)},t.prototype.value=function(){return this.data},t}(s.CLValue);t.CLByteArray=y},7939:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CLKey=t.CLKeyBytesParser=t.CLKeyType=void 0;var i=r(9935),a=r(543),s=r(9814),u=r(9957),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.linksTo=u.KEY_TYPE,t.tag=u.CLTypeTag.Key,t}return o(t,e),t}(s.CLType);t.CLKeyType=c;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.toBytes=function(e){if(e.isAccount())return(0,a.Ok)((0,i.concat)([Uint8Array.from([s.KeyVariant.Account]),(new s.CLAccountHashBytesParser).toBytes(e.data).unwrap()]));if(e.isHash())return(0,a.Ok)((0,i.concat)([Uint8Array.from([s.KeyVariant.Hash]),(new s.CLByteArrayBytesParser).toBytes(e.data).unwrap()]));if(e.isURef())return(0,a.Ok)((0,i.concat)([Uint8Array.from([s.KeyVariant.URef]),s.CLValueParsers.toBytes(e.data).unwrap()]));throw new Error("Unknown byte types")},t.prototype.fromBytesWithRemainder=function(e){if(e.length<1)return(0,s.resultHelper)((0,a.Err)(s.CLErrorCodes.EarlyEndOfStream));var t=e[0];if(t===s.KeyVariant.Hash){var r=e.subarray(1),n=(new s.CLByteArrayBytesParser).fromBytesWithRemainder(r,new s.CLByteArrayType(32)),o=n.result,i=n.remainder,u=o.unwrap(),c=new l(u);return(0,s.resultHelper)((0,a.Ok)(c),i)}if(t===s.KeyVariant.URef){var p=(new s.CLURefBytesParser).fromBytesWithRemainder(e.subarray(1)),y=p.result,f=p.remainder;return y.ok?(c=new l(y.val),(0,s.resultHelper)((0,a.Ok)(c),f)):(0,s.resultHelper)((0,a.Err)(y.val))}if(t===s.KeyVariant.Account){var d=(new s.CLAccountHashBytesParser).fromBytesWithRemainder(e.subarray(1)),h=d.result,v=d.remainder;return h.ok?(c=new l(h.val),(0,s.resultHelper)((0,a.Ok)(c),v)):(0,s.resultHelper)((0,a.Err)(h.val))}return(0,s.resultHelper)((0,a.Err)(s.CLErrorCodes.Formatting))},t}(s.CLValueBytesParsers);t.CLKeyBytesParser=p;var l=function(e){function t(t){var r=e.call(this)||this;if(!t.isCLValue)throw Error("Provided parameter is not a valid CLValue");return t.clType().tag===u.CLTypeTag.PublicKey?(r.data=new s.CLAccountHash(t.toAccountHash()),r):(r.data=t,r)}return o(t,e),t.prototype.clType=function(){return new c},t.prototype.value=function(){return this.data},t.prototype.toJSON=function(){return Buffer.from(this.data.value()).toString("hex")},t.prototype.isHash=function(){return this.data.clType().linksTo===s.BYTE_ARRAY_TYPE},t.prototype.isURef=function(){return this.data.clType().linksTo===s.UREF_TYPE},t.prototype.isAccount=function(){return this.data.clType().linksTo===s.ACCOUNT_HASH_TYPE},t}(s.CLValue);t.CLKey=l},2297:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CLList=t.CLListBytesParser=t.CLListType=void 0;var i=r(543),a=r(9935),s=r(9814),u=r(7269),c=r(9957),p=function(e){function t(t){var r=e.call(this)||this;return r.linksTo=c.LIST_TYPE,r.tag=c.CLTypeTag.List,r.inner=t,r}return o(t,e),t.prototype.toString=function(){return"".concat(c.LIST_TYPE," (").concat(this.inner.toString(),")")},t.prototype.toBytes=function(){return(0,a.concat)([Uint8Array.from([this.tag]),this.inner.toBytes()])},t.prototype.toJSON=function(){var e,t=this.inner.toJSON();return(e={})[c.LIST_TYPE]=t,e},t}(s.CLType);t.CLListType=p;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.toBytes=function(e){return(0,i.Ok)((0,u.toBytesVectorNew)(e.data))},t.prototype.fromBytesWithRemainder=function(e,t){var r=(new s.CLU32BytesParser).fromBytesWithRemainder(e),n=r.result,o=r.remainder;if(!n.ok)return(0,s.resultHelper)((0,i.Err)(n.val));for(var a=n.val.value().toNumber(),u=[],c=o,p=(0,s.matchByteParserByCLType)(t.inner).unwrap(),l=0;l<a;l++){if(!c)return(0,s.resultHelper)((0,i.Err)(s.CLErrorCodes.EarlyEndOfStream));var f=p.fromBytesWithRemainder(c,t.inner),d=f.result,h=f.remainder;if(!d.ok)return(0,s.resultHelper)((0,i.Err)(d.val));u.push(d.val),c=h}return 0===u.length?(0,s.resultHelper)((0,i.Ok)(new y(t.inner)),c):(0,s.resultHelper)((0,i.Ok)(new y(u)),c)},t}(s.CLValueBytesParsers);t.CLListBytesParser=l;var y=function(e){function t(t){var r=e.call(this)||this;if(Array.isArray(t)&&t[0].clType&&t[0].clType()){var n=t[0].clType();if(!t.every((function(e){return e.clType().toString()===n.toString()})))throw Error("Invalid data provided.");r.data=t,r.vectorType=n}else{if(!(t instanceof s.CLType))throw Error("Invalid data type(s) provided.");r.vectorType=t,r.data=[]}return r}return o(t,e),t.prototype.value=function(){return this.data},t.prototype.clType=function(){return new p(this.vectorType)},t.prototype.toJSON=function(){return this.data.map((function(e){return e.toJSON()}))},t.prototype.get=function(e){if(e>=this.data.length)throw new Error("List index out of bounds.");return this.data[e]},t.prototype.set=function(e,t){if(e>=this.data.length)throw new Error("List index out of bounds.");this.data[e]=t},t.prototype.push=function(e){if(e.clType().toString()!==this.vectorType.toString())throw Error("Incosnsistent data type, use ".concat(this.vectorType.toString(),"."));this.data.push(e)},t.prototype.remove=function(e){this.data.splice(e,1)},t.prototype.pop=function(){return this.data.pop()},t.prototype.size=function(){return this.data.length},t}(s.CLValue);t.CLList=y},3725:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CLMap=t.CLMapBytesParser=t.CLMapType=void 0;var a=r(9935),s=r(543),u=r(9814),c=r(9957),p=r(7269),l=function(e){function t(t){var r=t[0],n=t[1],o=e.call(this)||this;return o.tag=c.CLTypeTag.Map,o.linksTo=c.MAP_TYPE,o.innerKey=r,o.innerValue=n,o}return o(t,e),t.prototype.toString=function(){return"".concat(c.MAP_TYPE," (").concat(this.innerKey.toString(),": ").concat(this.innerValue.toString(),")")},t.prototype.toBytes=function(){return(0,a.concat)([Uint8Array.from([this.tag]),this.innerKey.toBytes(),this.innerValue.toBytes()])},t.prototype.toJSON=function(){var e;return(e={})[c.MAP_TYPE]={key:this.innerKey.toJSON(),value:this.innerValue.toJSON()},e},t}(u.CLType);t.CLMapType=l;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.toBytes=function(e){var t=Array.from(e.data).map((function(e){var t=e[0],r=e[1],n=u.CLValueParsers.toBytes(t).unwrap(),o=u.CLValueParsers.toBytes(r).unwrap();return(0,a.concat)([n,o])}));return(0,s.Ok)((0,a.concat)(i([(0,p.toBytesU32)(e.data.length)],t,!0)))},t.prototype.fromBytesWithRemainder=function(e,t){var r=(new u.CLU32BytesParser).fromBytesWithRemainder(e),n=r.result,o=r.remainder,i=n.unwrap().value().toNumber(),a=[],c=o;if(0===i)return(0,u.resultHelper)((0,s.Ok)(new f([t.innerKey,t.innerValue])),c);for(var p=0;p<i;p++){if(!c)return(0,u.resultHelper)((0,s.Err)(u.CLErrorCodes.EarlyEndOfStream));var l=(0,u.matchByteParserByCLType)(t.innerKey).unwrap().fromBytesWithRemainder(c,t.innerKey),y=l.result,d=l.remainder,h=y.unwrap();if(!(c=d))return(0,u.resultHelper)((0,s.Err)(u.CLErrorCodes.EarlyEndOfStream));var v=(0,u.matchByteParserByCLType)(t.innerValue).unwrap().fromBytesWithRemainder(c,t.innerValue),g=v.result,m=v.remainder,b=g.unwrap();c=m,a.push([h,b])}return i!==a.length?(0,u.resultHelper)((0,s.Err)(u.CLErrorCodes.Formatting)):(0,u.resultHelper)((0,s.Ok)(new f(a)),c)},t}(u.CLValueBytesParsers);t.CLMapBytesParser=y;var f=function(e){function t(t){var r=e.call(this)||this;if(function(e){return Array.isArray(e)&&Array.isArray(e[0])&&2===e[0].length&&!!e[0][0].clType&&!!e[0][1].clType}(t)){if(r.refType=[t[0][0].clType(),t[0][1].clType()],!t.every((function(e){var t=e[0],n=e[1];return t.clType().toString()===r.refType[0].toString()&&n.clType().toString()===r.refType[1].toString()})))throw Error("Invalid data provided.");r.data=t}else{if(!(t[0]instanceof u.CLType&&t[1]instanceof u.CLType))throw Error("Invalid data type(s) provided.");r.refType=t,r.data=[]}return r}return o(t,e),t.prototype.clType=function(){return new l(this.refType)},t.prototype.toJSON=function(){var e=new Map;return this.data.forEach((function(t){var r=t[0],n=t[1];return e.set(r,n)})),e},t.prototype.value=function(){return this.data},t.prototype.has=function(e){return void 0!==this.get(e)},t.prototype.get=function(e){var t=this.data.find((function(t){return t[0].value()===e.value()}));return t?t[1]:void 0},t.prototype.set=function(e,t){this.get(e)?this.data=this.data.map((function(r){return r[0].value()===e.value()?[r[0],t]:r})):this.data=i(i([],this.data,!0),[[e,t]],!1)},t.prototype.delete=function(e){this.data=this.data.filter((function(t){return t[0].value()!==e.value()}))},t.prototype.size=function(){return this.data.length},t}(u.CLValue);t.CLMap=f},7203:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CLU512=t.CLU512BytesParser=t.CLU512Type=t.CLU256=t.CLU256BytesParser=t.CLU256Type=t.CLU128=t.CLU128BytesParser=t.CLU128Type=t.CLU64=t.CLU64BytesParser=t.CLU64Type=t.CLU32=t.CLU32BytesParser=t.CLU32Type=t.CLU8=t.CLU8BytesParser=t.CLU8Type=t.CLI64=t.CLI64BytesParser=t.CLI64Type=t.CLI32=t.CLI32BytesParser=t.CLI32Type=void 0;var i=r(543),a=r(3362),s=r(9957),u=r(5757),c=r(7269),p=r(9957),l=r(636),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.toBytes=function(e){return(128===e.bitSize||256===e.bitSize||512===e.bitSize)&&e.originalBytes&&(0,l.arrayEquals)(e.originalBytes,Uint8Array.from([1,0]))?(0,i.Ok)(e.originalBytes):(0,i.Ok)((0,c.toBytesNumber)(e.bitSize,e.signed)(e.data))},t}(a.CLValueBytesParsers),f=function(e){function t(t,r,n,o){var i=e.call(this)||this;if(!1===r&&Math.sign(n)<0)throw new Error("Can't provide negative numbers with isSigned=false");return o&&(i.originalBytes=o),i.bitSize=t,i.signed=r,i.data=u.BigNumber.from(n),i}return o(t,e),t.prototype.value=function(){return this.data},t.prototype.toJSON=function(){return this.data.toString()},t}(a.CLValue),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.linksTo=p.I32_TYPE,t.tag=p.CLTypeTag.I32,t}return o(t,e),t}(a.CLType);t.CLI32Type=d;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.fromBytesWithRemainder=function(e){if(e.length<4)return(0,a.resultHelper)((0,i.Err)(s.CLErrorCodes.EarlyEndOfStream));var t=Uint8Array.from(e.subarray(0,4)),r=u.BigNumber.from(t.slice().reverse()).fromTwos(32),n=e.subarray(4);return(0,a.resultHelper)((0,i.Ok)(new v(r)),n)},t}(y);t.CLI32BytesParser=h;var v=function(e){function t(t){return e.call(this,32,!0,t)||this}return o(t,e),t.prototype.clType=function(){return new d},t}(f);t.CLI32=v;var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.linksTo=p.I64_TYPE,t.tag=p.CLTypeTag.I64,t}return o(t,e),t}(a.CLType);t.CLI64Type=g;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.fromBytesWithRemainder=function(e){if(e.length<8)return(0,a.resultHelper)((0,i.Err)(s.CLErrorCodes.EarlyEndOfStream));var t=Uint8Array.from(e.subarray(0,8)),r=u.BigNumber.from(t.slice().reverse()).fromTwos(64),n=e.subarray(8);return(0,a.resultHelper)((0,i.Ok)(new b(r)),n)},t}(y);t.CLI64BytesParser=m;var b=function(e){function t(t){return e.call(this,64,!0,t)||this}return o(t,e),t.prototype.clType=function(){return new g},t}(f);t.CLI64=b;var T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.linksTo=p.U8_TYPE,t.tag=p.CLTypeTag.U8,t}return o(t,e),t}(a.CLType);t.CLU8Type=T;var w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.fromBytesWithRemainder=function(e){return 0===e.length?(0,a.resultHelper)((0,i.Err)(s.CLErrorCodes.EarlyEndOfStream)):(0,a.resultHelper)((0,i.Ok)(new _(e[0])),e.subarray(1))},t}(y);t.CLU8BytesParser=w;var _=function(e){function t(t){return e.call(this,8,!1,t)||this}return o(t,e),t.prototype.clType=function(){return new T},t}(f);t.CLU8=_;var C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.linksTo=p.U32_TYPE,t.tag=p.CLTypeTag.U32,t}return o(t,e),t}(a.CLType);t.CLU32Type=C;var P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.fromBytesWithRemainder=function(e){if(e.length<4)return(0,a.resultHelper)((0,i.Err)(s.CLErrorCodes.EarlyEndOfStream));var t=Uint8Array.from(e.subarray(0,4)),r=u.BigNumber.from(t.slice().reverse());return(0,a.resultHelper)((0,i.Ok)(new E(r)),e.subarray(4))},t}(y);t.CLU32BytesParser=P;var E=function(e){function t(t){return e.call(this,32,!1,t)||this}return o(t,e),t.prototype.clType=function(){return new C},t}(f);t.CLU32=E;var B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.linksTo=p.U64_TYPE,t.tag=p.CLTypeTag.U64,t}return o(t,e),t}(a.CLType);t.CLU64Type=B;var L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.fromBytesWithRemainder=function(e){if(e.length<8)return(0,a.resultHelper)((0,i.Err)(s.CLErrorCodes.EarlyEndOfStream));var t=Uint8Array.from(e.subarray(0,8)),r=u.BigNumber.from(t.slice().reverse());return(0,a.resultHelper)((0,i.Ok)(new S(r)),e.subarray(8))},t}(y);t.CLU64BytesParser=L;var S=function(e){function t(t){return e.call(this,64,!1,t)||this}return o(t,e),t.prototype.clType=function(){return new B},t}(f);t.CLU64=S;var O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.linksTo=p.U128_TYPE,t.tag=p.CLTypeTag.U128,t}return o(t,e),t}(a.CLType);t.CLU128Type=O;var A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.fromBytesWithRemainder=function(e){return R(e,128)},t}(y);t.CLU128BytesParser=A;var U=function(e){function t(t,r){return e.call(this,128,!1,t,r)||this}return o(t,e),t.prototype.clType=function(){return new O},t}(f);t.CLU128=U;var j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.linksTo=p.U256_TYPE,t.tag=p.CLTypeTag.U256,t}return o(t,e),t}(a.CLType);t.CLU256Type=j;var k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.fromBytesWithRemainder=function(e){return R(e,256)},t}(y);t.CLU256BytesParser=k;var H=function(e){function t(t,r){return e.call(this,256,!1,t,r)||this}return o(t,e),t.prototype.clType=function(){return new j},t}(f);t.CLU256=H;var M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.linksTo=p.U512_TYPE,t.tag=p.CLTypeTag.U512,t}return o(t,e),t}(a.CLType);t.CLU512Type=M;var K=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.fromBytesWithRemainder=function(e){return R(e,512)},t}(y);t.CLU512BytesParser=K;var N=function(e){function t(t,r){return e.call(this,512,!1,t,r)||this}return o(t,e),t.prototype.clType=function(){return new M},t}(f);t.CLU512=N;var R=function(e,t){if(e.length<1)return(0,a.resultHelper)((0,i.Err)(s.CLErrorCodes.EarlyEndOfStream));var r=t/8,n=e[0];if(n>r)return(0,a.resultHelper)((0,i.Err)(s.CLErrorCodes.Formatting));if(n+1>e.length)return(0,a.resultHelper)((0,i.Err)(s.CLErrorCodes.EarlyEndOfStream));var o=0===n?[0]:e.subarray(1,1+n),c=e.subarray(1+n),p=u.BigNumber.from(o.slice().reverse());return 128===t?(0,a.resultHelper)((0,i.Ok)(new U(p,e)),c):256===t?(0,a.resultHelper)((0,i.Ok)(new H(p,e)),c):512===t?(0,a.resultHelper)((0,i.Ok)(new N(p,e)),c):(0,a.resultHelper)((0,i.Err)(s.CLErrorCodes.Formatting))}},806:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CLOption=t.CLOptionBytesParser=t.CLOptionType=void 0;var i=r(543),a=r(9935),s=r(9814),u=r(9957),c=function(e){function t(t){var r=e.call(this)||this;return r.tag=u.CLTypeTag.Option,r.linksTo=u.OPTION_TYPE,r.inner=t,r}return o(t,e),t.prototype.toString=function(){return null===this.inner?"".concat(u.OPTION_TYPE," (None)"):"".concat(u.OPTION_TYPE," (").concat(this.inner.toString(),")")},t.prototype.toBytes=function(){return(0,a.concat)([Uint8Array.from([this.tag]),this.inner.toBytes()])},t.prototype.toJSON=function(){var e;return(e={})[u.OPTION_TYPE]=this.inner.toJSON(),e},t}(s.CLType);t.CLOptionType=c;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.toBytes=function(e){return e.data.none?(0,i.Ok)(Uint8Array.from([0])):e.data.some?(0,i.Ok)((0,a.concat)([Uint8Array.from([1]),s.CLValueParsers.toBytes(e.data.unwrap()).unwrap()])):(0,i.Err)(s.CLErrorCodes.UnknownValue)},t.prototype.fromBytesWithRemainder=function(e,t){var r=(new s.CLU8BytesParser).fromBytesWithRemainder(e),n=r.result,o=r.remainder,a=n.unwrap().value().toNumber();if(0===a)return(0,s.resultHelper)((0,i.Ok)(new l(i.None,t.inner)),o);if(1===a){if(!o)return(0,s.resultHelper)((0,i.Err)(s.CLErrorCodes.EarlyEndOfStream));var u=(0,s.matchByteParserByCLType)(t.inner).unwrap().fromBytesWithRemainder(o,t.inner),c=u.result,p=u.remainder,y=c.unwrap();return(0,s.resultHelper)((0,i.Ok)(new l((0,i.Some)(y))),p)}return(0,s.resultHelper)((0,i.Err)(s.CLErrorCodes.Formatting))},t}(s.CLValueBytesParsers);t.CLOptionBytesParser=p;var l=function(e){function t(t,r){var n=e.call(this)||this;if(n.data=t,t.none){if(!r)throw new Error("You had to assign innerType for None");n.innerType=r}else n.innerType=t.val.clType();return e.call(this)||this}return o(t,e),t.prototype.isNone=function(){return this.data.none},t.prototype.isSome=function(){return this.data.some},t.prototype.value=function(){return this.data},t.prototype.toJSON=function(){return this.isNone()?null:this.data.unwrap().toJSON()},t.prototype.clType=function(){return new c(this.innerType)},t}(s.CLValue);t.CLOption=l},8308:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CLPublicKey=t.CLPublicKeyBytesParser=t.CLPublicKeyType=t.CLPublicKeyTag=void 0;var i,a=r(9935),s=r(543),u=r(9814),c=r(9957),p=r(5157),l=r(7269),y=r(2238),f=r(1247);!function(e){e[e.ED25519=1]="ED25519",e[e.SECP256K1=2]="SECP256K1"}(i=t.CLPublicKeyTag||(t.CLPublicKeyTag={}));var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.linksTo=c.PUBLIC_KEY_TYPE,t.tag=c.CLTypeTag.PublicKey,t}return o(t,e),t}(u.CLType);t.CLPublicKeyType=d;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.toBytes=function(e){return(0,s.Ok)((0,a.concat)([Uint8Array.from([e.tag]),e.data]))},t.prototype.fromBytesWithRemainder=function(e){if(e.length<1)return(0,u.resultHelper)((0,s.Err)(u.CLErrorCodes.EarlyEndOfStream));var t,r=e[0];if(r===i.ED25519)t=32;else{if(r!==i.SECP256K1)return(0,u.resultHelper)((0,s.Err)(u.CLErrorCodes.Formatting));t=33}var n=e.subarray(1,t+1),o=new v(n,r);return(0,u.resultHelper)((0,s.Ok)(o),e.subarray(t+1))},t}(u.CLValueBytesParsers);t.CLPublicKeyBytesParser=h;var v=function(e){function t(t,r){var n=e.call(this)||this;if(r===i.ED25519||r===y.SignatureAlgorithm.Ed25519){if(32!==t.length)throw new Error("Wrong length of ED25519 key. Expected ".concat(32,", but got ").concat(t.length,"."));return n.data=t,n.tag=i.ED25519,n}if(r===i.SECP256K1||r===y.SignatureAlgorithm.Secp256K1){if(33!==t.length)throw new Error("Wrong length of SECP256K1 key. Expected ".concat(33,", but got ").concat(t.length,"."));return n.data=t,n.tag=i.SECP256K1,n}throw new Error("Unsupported type of public key")}return o(t,e),t.prototype.clType=function(){return new d},t.prototype.isEd25519=function(){return this.tag===i.ED25519},t.prototype.isSecp256K1=function(){return this.tag===i.SECP256K1},t.prototype.toHex=function(e){void 0===e&&(e=!0);var t="0".concat(this.tag).concat((0,p.encodeBase16)(this.data));if(e){var r=(0,p.decodeBase16)(t);return(0,f.encode)(r.slice(0,1))+(0,f.encode)(r.slice(1))}return t},t.prototype.toAccountHash=function(){var e=i[this.tag],t=Uint8Array.from([0]),r=Buffer.concat([Buffer.from(e.toLowerCase()),t]);return 0===this.data.length?Uint8Array.from([]):(0,l.byteHash)((0,a.concat)([r,this.data]))},t.prototype.toAccountHashStr=function(){var e=this.toAccountHash(),t=Buffer.from(e).toString("hex");return"account-hash-".concat(t)},t.prototype.toAccountRawHashStr=function(){var e=this.toAccountHash();return Buffer.from(e).toString("hex")},t.prototype.value=function(){return this.data},t.fromEd25519=function(e){return new t(e,i.ED25519)},t.fromSecp256K1=function(e){return new t(e,i.SECP256K1)},t.fromHex=function(e,r){if(void 0===r&&(r=!1),e.length<2)throw new Error("Asymmetric key error: too short");if(!/^0(1[0-9a-fA-F]{64}|2[0-9a-fA-F]{66})$/.test(e))throw new Error("Invalid public key");if(!(0,f.isChecksummed)(e)&&(console.warn("Provided public key is not checksummed. Please check if you provide valid public key. You can generate checksummed public key from CLPublicKey.toHex(true)."),r))throw Error("Provided public key is not checksummed.");var n=(0,p.decodeBase16)(e);return new t(n.subarray(1),n[0])},t.prototype.getTag=function(){return this.tag},t.prototype.getSignatureAlgorithm=function(){return function(e){var t,r=(t={},t[i.ED25519]=y.SignatureAlgorithm.Ed25519,t[i.SECP256K1]=y.SignatureAlgorithm.Secp256K1,t)[e];if(void 0===r)throw Error("Unknown tag to signature algo mapping.");return r}(this.tag)},t}(u.CLValue);t.CLPublicKey=v},2172:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CLResult=t.CLResultBytesParser=t.CLResultType=void 0;var i=r(543),a=r(9935),s=r(9814),u=r(9957),c=function(e){function t(t){var r=t.ok,n=t.err,o=e.call(this)||this;return o.linksTo=u.RESULT_TYPE,o.tag=u.CLTypeTag.Result,o.innerOk=r,o.innerErr=n,o}return o(t,e),t.prototype.toString=function(){return"".concat(u.RESULT_TYPE," (OK: ").concat(this.innerOk.toString(),", ERR: ").concat(this.innerOk.toString(),")")},t.prototype.toBytes=function(){return(0,a.concat)([Uint8Array.from([this.tag]),this.innerOk.toBytes(),this.innerErr.toBytes()])},t.prototype.toJSON=function(){var e;return(e={})[u.RESULT_TYPE]={ok:this.innerOk.toJSON(),err:this.innerErr.toJSON()},e},t}(s.CLType);t.CLResultType=c;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.toBytes=function(e){if(e.isOk()&&e.data.val.isCLValue)return(0,i.Ok)((0,a.concat)([Uint8Array.from([1]),s.CLValueParsers.toBytes(e.data.val).unwrap()]));if(e.isError())return(0,i.Ok)((0,a.concat)([Uint8Array.from([0]),s.CLValueParsers.toBytes(e.data.val).unwrap()]));throw new Error("Unproper data stored in CLResult")},t.prototype.fromBytesWithRemainder=function(e,t){var r=(new s.CLU8BytesParser).fromBytesWithRemainder(e),n=r.result,o=r.remainder;if(!o)return(0,s.resultHelper)((0,i.Err)(s.CLErrorCodes.EarlyEndOfStream));var a=n.unwrap().value().toNumber(),u=t.innerErr,c=t.innerOk;if(0===a){var p=(0,s.matchByteParserByCLType)(u).unwrap().fromBytesWithRemainder(o,t.innerErr),y=p.result,f=p.remainder,d=new l((0,i.Err)(y.unwrap()),{ok:c,err:u});return(0,s.resultHelper)((0,i.Ok)(d),f)}if(1===a){var h=(0,s.matchByteParserByCLType)(c).unwrap().fromBytesWithRemainder(o,t.innerOk);return y=h.result,f=h.remainder,d=new l((0,i.Ok)(y.unwrap()),{ok:c,err:u}),(0,s.resultHelper)((0,i.Ok)(d),f)}return(0,s.resultHelper)((0,i.Err)(s.CLErrorCodes.Formatting))},t}(s.CLValueBytesParsers);t.CLResultBytesParser=p;var l=function(e){function t(t,r){var n=r.ok,o=r.err,i=e.call(this)||this;return i.data=t,i.innerOk=n,i.innerErr=o,i}return o(t,e),t.prototype.value=function(){return this.data},t.prototype.toJSON=function(){return this.data.unwrap().toJSON()},t.prototype.isError=function(){return this.data.err&&!this.data.ok},t.prototype.isOk=function(){return this.data.ok&&!this.data.err},t.prototype.clType=function(){return new c({ok:this.innerOk,err:this.innerErr})},t}(s.CLValue);t.CLResult=l},8683:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CLString=t.CLStringBytesParser=t.CLStringType=void 0;var i=r(543),a=r(9814),s=r(9957),u=r(7269),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.linksTo=s.STRING_TYPE,t.tag=s.CLTypeTag.String,t}return o(t,e),t}(a.CLType);t.CLStringType=c;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.toBytes=function(e){return(0,i.Ok)((0,u.toBytesString)(e.data))},t.prototype.fromBytesWithRemainder=function(e){var t=(new a.CLU32BytesParser).fromBytesWithRemainder(e),r=t.result,n=t.remainder,o=r.unwrap().value().toNumber();if(n){var s=(0,u.fromBytesString)(n.subarray(0,o));return(0,a.resultHelper)((0,i.Ok)(new l(s)),n.subarray(o))}return(0,a.resultHelper)((0,i.Err)(a.CLErrorCodes.EarlyEndOfStream))},t}(a.CLValueBytesParsers);t.CLStringBytesParser=p;var l=function(e){function t(t){var r=e.call(this)||this;if("string"!=typeof t)throw new Error("Wrong data type, you should provide string, but you provided ".concat(typeof t));return r.data=t,r}return o(t,e),t.prototype.clType=function(){return new c},t.prototype.value=function(){return this.data},t.prototype.size=function(){return this.data.length},t}(a.CLValue);t.CLString=l},6698:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CLTuple3=t.CLTuple3Type=t.CLTuple2=t.CLTuple2Type=t.CLTuple1=t.CLTuple1Type=t.CLTupleBytesParser=t.CLTupleType=void 0;var a=r(543),s=r(9935),u=r(9814),c=r(1908),p=r(9957),l=function(e){function t(t,r,n){var o=e.call(this)||this;return o.inner=t,o.linksTo=r,o.tag=n,o}return o(t,e),t.prototype.toString=function(){var e=this.inner.map((function(e){return e.toString()})).join(", ");return"Tuple".concat(this.inner.length," (").concat(e,")")},t.prototype.toJSON=function(){var e;return(e={})[c.TUPLE_MATCH_LEN_TO_TYPE[this.inner.length-1]]=this.inner.map((function(e){return e.toJSON()})),e},t.prototype.toBytes=function(){var e=this.inner.map((function(e){return e.toBytes()}));return(0,s.concat)(i([Uint8Array.from([this.tag])],e,!0))},t}(u.CLType);t.CLTupleType=l;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.toBytes=function(e){return(0,a.Ok)((0,s.concat)(e.data.map((function(e){return u.CLValueParsers.toBytes(e).unwrap()}))))},t.prototype.fromBytesWithRemainder=function(e,t){var r=e,n=t.inner.map((function(e){var t=(0,u.matchByteParserByCLType)(e).unwrap().fromBytesWithRemainder(r,e),n=t.result,o=t.remainder;return r=o,n.unwrap()}));return 1===n.length&&t.tag===p.CLTypeTag.Tuple1?(0,u.resultHelper)((0,a.Ok)(new h(n)),r):2===n.length&&t.tag===p.CLTypeTag.Tuple2?(0,u.resultHelper)((0,a.Ok)(new g(n)),r):3===n.length&&t.tag===p.CLTypeTag.Tuple3?(0,u.resultHelper)((0,a.Ok)(new b(n)),r):(0,u.resultHelper)((0,a.Err)(u.CLErrorCodes.Formatting))},t}(u.CLValueBytesParsers);t.CLTupleBytesParser=y;var f=function(e){function t(t,r){var n=e.call(this)||this;if(r.length>t)throw new Error("Too many elements!");if(!r.every((function(e){return e instanceof u.CLValue})))throw Error("Invalid data type(s) provided.");return n.tupleSize=t,n.data=r,n}return o(t,e),t.prototype.get=function(e){return this.data[e]},t.prototype.set=function(e,t){if(e>=this.tupleSize)throw new Error("Tuple index out of bounds.");this.data[e]=t},t.prototype.push=function(e){if(!(this.data.length<this.tupleSize))throw new Error("No more space in this tuple!");this.data.push(e)},t.prototype.value=function(){return this.data},t.prototype.toJSON=function(){return this.data.map((function(e){return e.toJSON()}))},t}(u.CLValue),d=function(e){function t(t){return e.call(this,t,p.TUPLE1_TYPE,p.CLTypeTag.Tuple1)||this}return o(t,e),t}(l);t.CLTuple1Type=d;var h=function(e){function t(t){return e.call(this,1,t)||this}return o(t,e),t.prototype.clType=function(){return new d(this.data.map((function(e){return e.clType()})))},t}(f);t.CLTuple1=h;var v=function(e){function t(t){return e.call(this,t,p.TUPLE2_TYPE,p.CLTypeTag.Tuple2)||this}return o(t,e),t}(l);t.CLTuple2Type=v;var g=function(e){function t(t){return e.call(this,2,t)||this}return o(t,e),t.prototype.clType=function(){return new v(this.data.map((function(e){return e.clType()})))},t}(f);t.CLTuple2=g;var m=function(e){function t(t){return e.call(this,t,p.TUPLE3_TYPE,p.CLTypeTag.Tuple3)||this}return o(t,e),t}(l);t.CLTuple3Type=m;var b=function(e){function t(t){return e.call(this,3,t)||this}return o(t,e),t.prototype.clType=function(){return new m(this.data.map((function(e){return e.clType()})))},t}(f);t.CLTuple3=b},355:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CLURef=t.CLURefBytesParser=t.CLURefType=t.AccessRights=void 0;var i,a=r(9935),s=r(543),u=r(9814),c=r(9957),p=r(5157);!function(e){e[e.None=0]="None",e[e.READ=1]="READ",e[e.WRITE=2]="WRITE",e[e.ADD=4]="ADD",e[e.READ_WRITE=3]="READ_WRITE",e[e.READ_ADD=5]="READ_ADD",e[e.ADD_WRITE=6]="ADD_WRITE",e[e.READ_ADD_WRITE=7]="READ_ADD_WRITE"}(i=t.AccessRights||(t.AccessRights={}));var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.linksTo=c.UREF_TYPE,t.tag=c.CLTypeTag.URef,t}return o(t,e),t}(u.CLType);t.CLURefType=l;var y="uref",f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.toBytes=function(e){return(0,s.Ok)((0,a.concat)([e.data,Uint8Array.from([e.accessRights])]))},t.prototype.fromBytesWithRemainder=function(e){if(e.length<33)return(0,u.resultHelper)((0,s.Err)(u.CLErrorCodes.EarlyEndOfStream));var t=e.subarray(0,32),r=e[32],n=new d(t,r);return(0,u.resultHelper)((0,s.Ok)(n),e.subarray(33))},t}(u.CLValueBytesParsers);t.CLURefBytesParser=f;var d=function(e){function t(t,r){var n=e.call(this)||this;if(32!==t.byteLength)throw new Error("The length of URefAddr should be 32");if(!Object.values(i).includes(r))throw new Error("Unsuported AccessRights");return n.data=t,n.accessRights=r,n}return o(t,e),t.fromFormattedStr=function(e){if(!e.startsWith("".concat(y,"-")))throw new Error("Prefix is not 'uref-'");var r=e.substring("".concat(y,"-").length).split("-",2);if(2!==r.length)throw new Error("No access rights as suffix");return new t((0,p.decodeBase16)(r[0]),parseInt(r[1],8))},t.prototype.toFormattedStr=function(){return[y,(0,p.encodeBase16)(this.data),(0,u.padNum)(this.accessRights.toString(8),3)].join("-")},t.prototype.toJSON=function(){return this.toFormattedStr()},t.prototype.clType=function(){return new l},t.prototype.value=function(){return{data:this.data,accessRights:this.accessRights}},t}(u.CLValue);t.CLURef=d},6875:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CLUnit=t.CLUnitBytesParser=t.CLUnitType=void 0;var i=r(543),a=r(9814),s=r(9957),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tag=s.CLTypeTag.Unit,t.linksTo=s.UNIT_TYPE,t}return o(t,e),t}(a.CLType);t.CLUnitType=u;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.toBytes=function(){return(0,i.Ok)(Uint8Array.from([]))},t.prototype.fromBytesWithRemainder=function(e){return(0,a.resultHelper)((0,i.Ok)(new p),e)},t}(a.CLValueBytesParsers);t.CLUnitBytesParser=c;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=void 0,t}return o(t,e),t.prototype.clType=function(){return new u},t.prototype.value=function(){return this.data},t}(a.CLValue);t.CLUnit=p},9957:(e,t)=>{var r,n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.ACCOUNT_HASH_TYPE=t.ANY_TYPE=t.TUPLE3_TYPE=t.TUPLE2_TYPE=t.TUPLE1_TYPE=t.RESULT_TYPE=t.OPTION_TYPE=t.MAP_TYPE=t.LIST_TYPE=t.BYTE_ARRAY_TYPE=t.U512_TYPE=t.U256_TYPE=t.U128_TYPE=t.U64_TYPE=t.U32_TYPE=t.U8_TYPE=t.I64_TYPE=t.I32_TYPE=t.UNIT_TYPE=t.UREF_TYPE=t.STRING_TYPE=t.PUBLIC_KEY_TYPE=t.KEY_TYPE=t.BOOL_TYPE=t.CLTypeTag=t.KeyVariant=t.CLErrorCodes=t.ACCOUNT_HASH_LENGTH=void 0,t.ACCOUNT_HASH_LENGTH=32,(o=t.CLErrorCodes||(t.CLErrorCodes={}))[o.EarlyEndOfStream=0]="EarlyEndOfStream",o[o.Formatting=1]="Formatting",o.LeftOverBytes="Left over bytes",o.OutOfMemory="Out of memory exception",o.UnknownValue="Unknown value",(n=t.KeyVariant||(t.KeyVariant={}))[n.Account=0]="Account",n[n.Hash=1]="Hash",n[n.URef=2]="URef",(r=t.CLTypeTag||(t.CLTypeTag={}))[r.Bool=0]="Bool",r[r.I32=1]="I32",r[r.I64=2]="I64",r[r.U8=3]="U8",r[r.U32=4]="U32",r[r.U64=5]="U64",r[r.U128=6]="U128",r[r.U256=7]="U256",r[r.U512=8]="U512",r[r.Unit=9]="Unit",r[r.String=10]="String",r[r.Key=11]="Key",r[r.URef=12]="URef",r[r.Option=13]="Option",r[r.List=14]="List",r[r.ByteArray=15]="ByteArray",r[r.Result=16]="Result",r[r.Map=17]="Map",r[r.Tuple1=18]="Tuple1",r[r.Tuple2=19]="Tuple2",r[r.Tuple3=20]="Tuple3",r[r.Any=21]="Any",r[r.PublicKey=22]="PublicKey",t.BOOL_TYPE="Bool",t.KEY_TYPE="Key",t.PUBLIC_KEY_TYPE="PublicKey",t.STRING_TYPE="String",t.UREF_TYPE="URef",t.UNIT_TYPE="Unit",t.I32_TYPE="I32",t.I64_TYPE="I64",t.U8_TYPE="U8",t.U32_TYPE="U32",t.U64_TYPE="U64",t.U128_TYPE="U128",t.U256_TYPE="U256",t.U512_TYPE="U512",t.BYTE_ARRAY_TYPE="ByteArray",t.LIST_TYPE="List",t.MAP_TYPE="Map",t.OPTION_TYPE="Option",t.RESULT_TYPE="Result",t.TUPLE1_TYPE="Tuple1",t.TUPLE2_TYPE="Tuple2",t.TUPLE3_TYPE="Tuple3",t.ANY_TYPE="Any",t.ACCOUNT_HASH_TYPE="AccountHash"},9814:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(3362),t),o(r(5034),t),o(r(9334),t),o(r(1746),t),o(r(7939),t),o(r(2297),t),o(r(3725),t),o(r(7203),t),o(r(8308),t),o(r(8683),t),o(r(6698),t),o(r(355),t),o(r(6875),t),o(r(9438),t),o(r(2361),t),o(r(355),t),o(r(2172),t),o(r(806),t),o(r(9957),t),o(r(1908),t)},1908:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.padNum=t.matchBytesToCLType=t.matchByteParserByCLType=t.matchTypeToCLType=t.TUPLE_MATCH_LEN_TO_TYPE=void 0;var n=r(543),o=r(9957),i=r(9814);t.TUPLE_MATCH_LEN_TO_TYPE=[o.TUPLE1_TYPE,o.TUPLE2_TYPE,o.TUPLE3_TYPE],t.matchTypeToCLType=function(e){if("string"==typeof e)switch(e){case o.BOOL_TYPE:return new i.CLBoolType;case o.KEY_TYPE:return new i.CLKeyType;case o.PUBLIC_KEY_TYPE:return new i.CLPublicKeyType;case o.STRING_TYPE:return new i.CLStringType;case o.UREF_TYPE:return new i.CLURefType;case o.UNIT_TYPE:return new i.CLUnitType;case o.I32_TYPE:return new i.CLI32Type;case o.I64_TYPE:return new i.CLI64Type;case o.U8_TYPE:return new i.CLU8Type;case o.U32_TYPE:return new i.CLU32Type;case o.U64_TYPE:return new i.CLU64Type;case o.U128_TYPE:return new i.CLU128Type;case o.U256_TYPE:return new i.CLU256Type;case o.U512_TYPE:return new i.CLU512Type;case o.ANY_TYPE:return new i.CLAnyType;default:throw new Error("The simple type ".concat(e," is not supported"))}if(typeof e==typeof{}){if(o.LIST_TYPE in e){var r=(0,t.matchTypeToCLType)(e[o.LIST_TYPE]);return new i.CLListType(r)}if(o.BYTE_ARRAY_TYPE in e){var n=e[o.BYTE_ARRAY_TYPE];return new i.CLByteArrayType(n)}if(o.MAP_TYPE in e){var a=(0,t.matchTypeToCLType)(e[o.MAP_TYPE].key),s=(0,t.matchTypeToCLType)(e[o.MAP_TYPE].value);return new i.CLMapType([a,s])}if(o.TUPLE1_TYPE in e){var u=e[o.TUPLE1_TYPE].map((function(e){return(0,t.matchTypeToCLType)(e)}));return new i.CLTuple1Type(u)}if(o.TUPLE2_TYPE in e)return u=e[o.TUPLE2_TYPE].map((function(e){return(0,t.matchTypeToCLType)(e)})),new i.CLTuple2Type(u);if(o.TUPLE3_TYPE in e)return u=e[o.TUPLE3_TYPE].map((function(e){return(0,t.matchTypeToCLType)(e)})),new i.CLTuple3Type(u);if(o.OPTION_TYPE in e)return r=(0,t.matchTypeToCLType)(e[o.OPTION_TYPE]),new i.CLOptionType(r);if(o.RESULT_TYPE in e){var c=(0,t.matchTypeToCLType)(e[o.RESULT_TYPE].ok),p=(0,t.matchTypeToCLType)(e[o.RESULT_TYPE].err);return new i.CLResultType({ok:c,err:p})}throw new Error("The complex type ".concat(e," is not supported"))}throw new Error("Unknown data provided.")},t.matchByteParserByCLType=function(e){switch(e.linksTo){case o.ACCOUNT_HASH_TYPE:return(0,n.Ok)(new i.CLAccountHashBytesParser);case o.BOOL_TYPE:return(0,n.Ok)(new i.CLBoolBytesParser);case o.I32_TYPE:return(0,n.Ok)(new i.CLI32BytesParser);case o.I64_TYPE:return(0,n.Ok)(new i.CLI64BytesParser);case o.U8_TYPE:return(0,n.Ok)(new i.CLU8BytesParser);case o.U32_TYPE:return(0,n.Ok)(new i.CLU32BytesParser);case o.U64_TYPE:return(0,n.Ok)(new i.CLU64BytesParser);case o.U128_TYPE:return(0,n.Ok)(new i.CLU128BytesParser);case o.U256_TYPE:return(0,n.Ok)(new i.CLU256BytesParser);case o.U512_TYPE:return(0,n.Ok)(new i.CLU512BytesParser);case o.BYTE_ARRAY_TYPE:return(0,n.Ok)(new i.CLByteArrayBytesParser);case o.UREF_TYPE:return(0,n.Ok)(new i.CLURefBytesParser);case o.KEY_TYPE:return(0,n.Ok)(new i.CLKeyBytesParser);case o.PUBLIC_KEY_TYPE:return(0,n.Ok)(new i.CLPublicKeyBytesParser);case o.LIST_TYPE:return(0,n.Ok)(new i.CLListBytesParser);case o.MAP_TYPE:return(0,n.Ok)(new i.CLMapBytesParser);case o.TUPLE1_TYPE:case o.TUPLE2_TYPE:case o.TUPLE3_TYPE:return(0,n.Ok)(new i.CLTupleBytesParser);case o.OPTION_TYPE:return(0,n.Ok)(new i.CLOptionBytesParser);case o.RESULT_TYPE:return(0,n.Ok)(new i.CLResultBytesParser);case o.STRING_TYPE:return(0,n.Ok)(new i.CLStringBytesParser);case o.UNIT_TYPE:return(0,n.Ok)(new i.CLUnitBytesParser);default:return(0,n.Err)("Unknown type")}},t.matchBytesToCLType=function(e){var r=e[0],a=e.subarray(1);switch(r){case o.CLTypeTag.Bool:return(0,i.resultHelper)((0,n.Ok)(new i.CLBoolType),a);case o.CLTypeTag.I32:return(0,i.resultHelper)((0,n.Ok)(new i.CLI32Type),a);case o.CLTypeTag.I64:return(0,i.resultHelper)((0,n.Ok)(new i.CLI64Type),a);case o.CLTypeTag.U8:return(0,i.resultHelper)((0,n.Ok)(new i.CLU8Type),a);case o.CLTypeTag.U32:return(0,i.resultHelper)((0,n.Ok)(new i.CLU32Type),a);case o.CLTypeTag.U64:case o.CLTypeTag.U64:return(0,i.resultHelper)((0,n.Ok)(new i.CLU64Type),a);case o.CLTypeTag.U128:return(0,i.resultHelper)((0,n.Ok)(new i.CLU128Type),a);case o.CLTypeTag.U256:return(0,i.resultHelper)((0,n.Ok)(new i.CLU256Type),a);case o.CLTypeTag.U512:return(0,i.resultHelper)((0,n.Ok)(new i.CLU512Type),a);case o.CLTypeTag.Unit:return(0,i.resultHelper)((0,n.Ok)(new i.CLUnitType),a);case o.CLTypeTag.String:return(0,i.resultHelper)((0,n.Ok)(new i.CLStringType),a);case o.CLTypeTag.Key:return(0,i.resultHelper)((0,n.Ok)(new i.CLKeyType),a);case o.CLTypeTag.URef:return(0,i.resultHelper)((0,n.Ok)(new i.CLURefType),a);case o.CLTypeTag.Option:var s=(0,t.matchBytesToCLType)(a),u=s.result,c=s.remainder,p=u.unwrap();return(0,i.resultHelper)((0,n.Ok)(new i.CLOptionType(p)),c);case o.CLTypeTag.List:var l=(0,t.matchBytesToCLType)(a);return u=l.result,c=l.remainder,p=u.unwrap(),(0,i.resultHelper)((0,n.Ok)(new i.CLListType(p)),c);case o.CLTypeTag.ByteArray:var y=(0,t.matchBytesToCLType)(a);return u=y.result,c=y.remainder,p=u.unwrap(),(0,i.resultHelper)((0,n.Ok)(new i.CLListType(p)),c);case o.CLTypeTag.Result:var f=(0,t.matchBytesToCLType)(a),d=f.result,h=f.remainder,v=d.unwrap();if(!h)return(0,i.resultHelper)((0,n.Err)("Missing Error type bytes in Result"));var g=(0,t.matchBytesToCLType)(h),m=g.result,b=g.remainder,T=m.unwrap();return(0,i.resultHelper)((0,n.Ok)(new i.CLResultType({ok:v,err:T})),b);case o.CLTypeTag.Map:var w=(0,t.matchBytesToCLType)(a),_=w.result,C=w.remainder,P=_.unwrap();if(!C)return(0,i.resultHelper)((0,n.Err)("Missing Key type bytes in Map"));var E=(0,t.matchBytesToCLType)(C),B=E.result,L=(b=E.remainder,B.unwrap());return(0,i.resultHelper)((0,n.Ok)(new i.CLMapType([P,L])),b);case o.CLTypeTag.Tuple1:var S=(0,t.matchBytesToCLType)(a),O=S.result;return b=S.remainder,p=O.unwrap(),(0,i.resultHelper)((0,n.Ok)(new i.CLTuple1Type([p])),b);case o.CLTypeTag.Tuple2:var A=(0,t.matchBytesToCLType)(a),U=A.result,j=A.remainder,k=U.unwrap();if(!j)return(0,i.resultHelper)((0,n.Err)("Missing second tuple type bytes in CLTuple2Type"));var H=(0,t.matchBytesToCLType)(j),M=H.result,K=H.remainder,N=M.unwrap();return(0,i.resultHelper)((0,n.Ok)(new i.CLTuple1Type([k,N])),K);case o.CLTypeTag.Tuple3:var R=(0,t.matchBytesToCLType)(a);if(U=R.result,j=R.remainder,k=U.unwrap(),!j)return(0,i.resultHelper)((0,n.Err)("Missing second tuple type bytes in CLTuple2Type"));var D=(0,t.matchBytesToCLType)(j);if(M=D.result,K=D.remainder,N=M.unwrap(),!K)return(0,i.resultHelper)((0,n.Err)("Missing third tuple type bytes in CLTuple2Type"));var x=(0,t.matchBytesToCLType)(K),I=x.result,Y=x.remainder,V=I.unwrap();return(0,i.resultHelper)((0,n.Ok)(new i.CLTuple1Type([k,N,V])),Y);case o.CLTypeTag.Any:return(0,i.resultHelper)((0,n.Err)("Any unsupported"));case o.CLTypeTag.PublicKey:return(0,i.resultHelper)((0,n.Ok)(new i.CLPublicKeyType))}return(0,i.resultHelper)((0,n.Err)("Unsuported type"))},t.padNum=function(e,t){return void 0===t&&(t=1),new Array(t).join("0").slice(-1*(t||2))+e}},2520:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CasperClient=void 0;var i=r(4400),a=r(4493),s=r(5157),u=r(2238),c=r(7045),p=r(5757),l=function(){function e(e){this.nodeClient=new i.CasperServiceByJsonRPC(e)}return e.prototype.newKeyPair=function(e){switch(e){case u.SignatureAlgorithm.Ed25519:return a.Keys.Ed25519.new();case u.SignatureAlgorithm.Secp256K1:return a.Keys.Secp256K1.new();default:throw new Error("Invalid signature algorithm")}},e.prototype.loadPublicKeyFromFile=function(e,t){switch(t){case u.SignatureAlgorithm.Ed25519:return a.Keys.Ed25519.parsePublicKeyFile(e);case u.SignatureAlgorithm.Secp256K1:return a.Keys.Secp256K1.parsePublicKeyFile(e);default:throw new Error("Invalid signature algorithm")}},e.prototype.loadPrivateKeyFromFile=function(e,t){switch(t){case u.SignatureAlgorithm.Ed25519:return a.Keys.Ed25519.parsePrivateKeyFile(e);case u.SignatureAlgorithm.Secp256K1:return a.Keys.Secp256K1.parsePrivateKeyFile(e);default:throw new Error("Invalid signature algorithm")}},e.prototype.loadKeyPairFromPrivateFile=function(e,t){switch(t){case u.SignatureAlgorithm.Ed25519:return a.Keys.Ed25519.loadKeyPairFromPrivateFile(e);case u.SignatureAlgorithm.Secp256K1:return a.Keys.Secp256K1.loadKeyPairFromPrivateFile(e);default:throw new Error("Invalid signature algorithm")}},e.prototype.newHdWallet=function(e,t){switch(t){case u.SignatureAlgorithm.Ed25519:return new c.Ed25519HDKey(e);case u.SignatureAlgorithm.Secp256K1:return new c.Secp256K1HDKey(e)}},e.prototype.privateToPublicKey=function(e,t){switch(t){case u.SignatureAlgorithm.Ed25519:return a.Keys.Ed25519.privateToPublicKey(e);case u.SignatureAlgorithm.Secp256K1:return a.Keys.Secp256K1.privateToPublicKey(e);default:throw new Error("Invalid signature algorithm")}},e.prototype.makeDeploy=function(e,t,r){return a.DeployUtil.makeDeploy(e,t,r)},e.prototype.signDeploy=function(e,t){return a.DeployUtil.signDeploy(e,t)},e.prototype.putDeploy=function(e){return this.nodeClient.deploy(e).then((function(e){return e.deploy_hash}))},e.prototype.speculativeDeploy=function(e,t){return this.nodeClient.speculativeDeploy(e,t).then((function(e){return e}))},e.prototype.deployToJson=function(e){return a.DeployUtil.deployToJson(e)},e.prototype.deployFromJson=function(e){return a.DeployUtil.deployFromJson(e)},e.prototype.makeTransferDeploy=function(e,t,r){if(!t.isTransfer())throw new Error("The session is not a Transfer ExecutableDeployItem");return this.makeDeploy(e,t,r)},e.prototype.balanceOfByPublicKey=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(t){return[2,this.balanceOfByAccountHash((0,s.encodeBase16)(e.toAccountHash()))]}))}))},e.prototype.balanceOfByAccountHash=function(e){return n(this,void 0,void 0,(function(){var t,r;return o(this,(function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),[4,this.nodeClient.getLatestBlockInfo().then((function(e){var t;return null===(t=e.block)||void 0===t?void 0:t.header.state_root_hash}))];case 1:return(t=n.sent())?[4,this.nodeClient.getAccountBalanceUrefByPublicKeyHash(t,e)]:[2,p.BigNumber.from(0)];case 2:return(r=n.sent())?[4,this.nodeClient.getAccountBalance(t,r)]:[2,p.BigNumber.from(0)];case 3:return[2,n.sent()];case 4:return n.sent(),[2,p.BigNumber.from(0)];case 5:return[2]}}))}))},e.prototype.getDeploy=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.nodeClient.getDeployInfo(e).then((function(e){return[a.DeployUtil.deployFromJson(e).unwrap(),e]}))];case 1:return[2,t.sent()]}}))}))},e.prototype.getAccountMainPurseUref=function(e){return n(this,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return[4,this.nodeClient.getLatestBlockInfo().then((function(e){var t;return null===(t=e.block)||void 0===t?void 0:t.header.state_root_hash}))];case 1:return(t=r.sent())?[4,this.nodeClient.getAccountBalanceUrefByPublicKeyHash(t,(0,s.encodeBase16)(e.toAccountHash()))]:[2,null];case 2:return[2,r.sent()]}}))}))},e}();t.CasperClient=l},3981:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CasperHDKey=void 0;var a=i(r(1772)),s=r(1713),u=s.wordlist,c=function(){function e(e,t){this.seed=e,this.signatureAlorithm=t}return e.bip44Path=function(t){return["m","44'","".concat(e.bip44Index,"'"),"0'","0","".concat(t)].join("/")},e.newMnemonic=function(t){if(void 0===t&&(t=12),![12,24].includes(t))throw new Error("Invalid word length");var r=12===t?128:256;return a.generateMnemonic(e.getWordlist(),r)},e.validateMnemonic=function(t){return a.validateMnemonic(t,e.getWordlist())},e.mnemonicToSeed=function(t){return a.mnemonicToEntropy(t,e.getWordlist())},e.newSeed=function(){return e.mnemonicToSeed(e.newMnemonic())},e.setWordlist=function(e){u=e},e.getWordlist=function(){return u},e.getDefaultWordlist=function(){return s.wordlist},Object.defineProperty(e.prototype,"signatureAlgorithm",{get:function(){return this.signatureAlorithm},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mnemonic",{get:function(){return a.entropyToMnemonic(this.seed,e.getWordlist())},enumerable:!1,configurable:!0}),e.prototype.deriveChild=function(t){return this.derive(e.bip44Path(t))},e.bip44Index=506,e}();t.CasperHDKey=c},203:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Ed25519HDKey=void 0;var i=r(7183),a=r(3981),s=r(2238),u=function(e){function t(t){var r=e.call(this,t,s.SignatureAlgorithm.Ed25519)||this;return r.hdKey=i.HDKey.fromMasterSeed(t),r}return o(t,e),t.new=function(){return new t(t.newSeed())},t.fromMnemonic=function(e){return new t(t.mnemonicToSeed(e))},t.prototype.publicKey=function(){return this.hdKey.publicKey},t.prototype.privateKey=function(){return this.hdKey.privateKey},t.prototype.derive=function(e,t){void 0===t&&(t=!0);var r=this.hdKey.derive(e,t);return new s.Ed25519({publicKey:r.publicKeyRaw,secretKey:r.privateKey})},t.prototype.sign=function(e){return this.hdKey.sign(e)},t.prototype.verify=function(e,t){return this.hdKey.verify(t,e)},t}(a.CasperHDKey);t.Ed25519HDKey=u},1042:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Secp256K1HDKey=void 0;var i=r(6271),a=r(1982),s=r(3981),u=r(2238),c=function(e){function t(t){var r=e.call(this,t,u.SignatureAlgorithm.Ed25519)||this;return r.hdKey=i.HDKey.fromMasterSeed(t),r}return o(t,e),t.new=function(){return new t(t.newSeed())},t.fromMnemonic=function(e){return new t(t.mnemonicToSeed(e))},t.prototype.publicKey=function(){return this.hdKey.publicKey},t.prototype.privateKey=function(){return this.hdKey.privateKey},t.prototype.derive=function(e){var t=this.hdKey.derive(e);return new u.Secp256K1(new Uint8Array(t.publicKey),new Uint8Array(t.privateKey))},t.prototype.sign=function(e){return this.hdKey.sign((0,a.sha256)(Buffer.from(e)))},t.prototype.verify=function(e,t){return this.hdKey.verify((0,a.sha256)(Buffer.from(t)),Buffer.from(e))},t}(s.CasperHDKey);t.Secp256K1HDKey=c},7183:function(e,t,r){var n=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.HDKey=t.HARDENED_OFFSET=t.MASTER_SECRET=void 0;var o=r(1380),i=r(2933),a=r(6557),s=r(1982),u=r(3750),c=r(8797),p=r(2145);t.MASTER_SECRET=(0,c.utf8ToBytes)("ed25519 seed"),t.HARDENED_OFFSET=2147483648;var l=new Uint8Array([0]);function y(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return"string"==typeof e&&(e=(0,c.hexToBytes)(e)),p.bytes.apply(void 0,n([e],t,!1)),e}var f=function(e){if(!Number.isSafeInteger(e)||e<0||e>Math.pow(2,32)-1)throw new Error("Invalid number=".concat(e,". Should be from 0 to 2 ** 32 - 1"));var t=new Uint8Array(4);return(0,c.createView)(t).setUint32(0,e,!1),t},d=function(){function e(e){if(this.depth=0,this.index=0,this.parentFingerprint=0,!e||"object"!=typeof e)throw new Error("HDKey.constructor must not be called directly");if((0,p.bytes)(e.privateKey,32),(0,p.bytes)(e.chainCode,32),this.depth=e.depth||0,this.index=e.index||0,this.parentFingerprint=e.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");this.chainCode=e.chainCode,this.privateKey=e.privateKey}return Object.defineProperty(e.prototype,"publicKeyRaw",{get:function(){return o.ed25519.getPublicKey(this.privateKey)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"publicKey",{get:function(){return(0,c.concatBytes)(l,this.publicKeyRaw)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pubHash",{get:function(){return e=this.publicKey,(0,a.ripemd160)((0,s.sha256)(e));var e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fingerprint",{get:function(){return e=this.pubHash,(0,c.createView)(e).getUint32(0,!1);var e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fingerprintHex",{get:function(){return(0,c.bytesToHex)(f(this.fingerprint))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentFingerprintHex",{get:function(){return(0,c.bytesToHex)(f(this.parentFingerprint))},enumerable:!1,configurable:!0}),e.fromMasterSeed=function(r){if(8*(r=y(r)).length<128||8*r.length>512)throw new Error("HDKey: wrong seed length=".concat(r.length,". Should be between 128 and 512 bits; 256 bits is advised)"));var n=(0,i.hmac)(u.sha512,t.MASTER_SECRET,r);return new e({privateKey:n.slice(0,32),chainCode:n.slice(32)})},e.prototype.derive=function(e,r){if(void 0===r&&(r=!1),!/^[mM]'?/.test(e))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(e))return this;for(var n=this,o=0,i=e.replace(/^[mM]'?\//,"").split("/");o<i.length;o++){var a=i[o],s=/^(\d+)('?)$/.exec(a);if(!s||3!==s.length)throw new Error("Invalid child index: ".concat(a));var u=+s[1];if(!Number.isSafeInteger(u)||u>=t.HARDENED_OFFSET)throw new Error("Invalid index");(r||"'"===s[2])&&(u+=t.HARDENED_OFFSET),n=n.deriveChild(u)}return n},e.prototype.deriveChild=function(r){if(r<t.HARDENED_OFFSET)throw new Error("Non-hardened child derivation not possible for Ed25519 (index=".concat(r,")"));var n=(0,c.concatBytes)(l,this.privateKey,f(r)),o=(0,i.hmac)(u.sha512,this.chainCode,n);return new e({chainCode:o.slice(32),depth:this.depth+1,parentFingerprint:this.fingerprint,index:r,privateKey:o.slice(0,32)})},e.prototype.sign=function(e){return o.ed25519.sign(e,this.privateKey)},e.prototype.verify=function(e,t){return t=y(t,64),o.ed25519.verify(t,e,this.publicKeyRaw)},e}();t.HDKey=d},7045:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(3981),t),o(r(203),t),o(r(1042),t)},1247:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isChecksummed=t.isSamecase=t.encode=t.SMALL_BYTES_COUNT=void 0;var n=r(9935),o=r(7269),i=r(5157);t.SMALL_BYTES_COUNT=75;var a=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","A","B","C","D","E","F"];t.encode=function(e){var t=e.reduce((function(e,t){return(0,n.concat)([e,Uint8Array.of(t>>>4,15&t)])}),new Uint8Array),r=function(e){for(var t=[],r=0,n=0;r<e.length;r++)for(var o=0;o<8;o++)t[n++]=1==(e[r]>>>o&1);return t}((0,o.byteHash)(e)).values();return t.reduce((function(e,t){var n=a[t];return/^[a-zA-Z()]+$/.test(n)&&r.next().value?e+n.toUpperCase():e+n.toLowerCase()}),"")},t.isSamecase=function(e){return/^[a-z0-9]+$|^[A-Z0-9]+$/.test(e)},t.isChecksummed=function(e){var r=(0,i.decodeBase16)(e);return!!(r.length>t.SMALL_BYTES_COUNT||(0,t.isSamecase)(e))||(/^0(1[0-9a-fA-F]{64}|2[0-9a-fA-F]{66})$/.test(e)?e===(0,t.encode)(r.slice(0,1))+(0,t.encode)(r.slice(1)):e===(0,t.encode)(r))}},4848:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.fromCLMap=t.toCLMap=t.Contract=t.contractHashToByteArray=void 0;var u=r(7108),c=i(r(636)),p=r(8581);t.contractHashToByteArray=function(e){return Uint8Array.from(Buffer.from(e,"hex"))};var l="You need to either create Contract instance with casperClient or pass it as parameter to this function",y=function(){function e(e){this.casperClient=e}return e.prototype.setContractHash=function(e,t){if(!e.startsWith("hash-")||t&&!t.startsWith("hash-"))throw new Error("Please provide contract hash in a format that contains hash- prefix.");this.contractHash=e,this.contractPackageHash=t},e.prototype.install=function(e,t,r,n,o,i){return void 0===i&&(i=[]),c.makeDeploy(new c.DeployParams(n,o),c.ExecutableDeployItem.newModuleBytes(e,t),c.standardPayment(r)).sign(i)},e.prototype.checkSetup=function(){if(this.contractHash)return!0;throw Error("You need to setContract before running this method.")},e.prototype.callEntrypoint=function(e,r,n,o,i,a,s){void 0===a&&(a=[]),void 0===s&&(s=p.DEFAULT_DEPLOY_TTL),this.checkSetup();var u=(0,t.contractHashToByteArray)(this.contractHash.slice(5));return c.makeDeploy(new c.DeployParams(n,o,1,s),c.ExecutableDeployItem.newStoredContractByHash(u,e,r),c.standardPayment(i)).sign(a)},e.prototype.queryContractData=function(e,t,r){var n;return void 0===e&&(e=[]),a(this,void 0,void 0,(function(){var o,i,a,u;return s(this,(function(s){switch(s.label){case 0:if(!(o=t||this.casperClient))throw Error(l);return(a=r)?[3,2]:[4,o.nodeClient.getStateRootHash()];case 1:a=s.sent(),s.label=2;case 2:return i=a,[4,o.nodeClient.getBlockState(i,this.contractHash,e)];case 3:if((u=s.sent())&&(null===(n=u.CLValue)||void 0===n?void 0:n.isCLValue))return[2,u.CLValue.value()];throw Error("Invalid stored value")}}))}))},e.prototype.queryContractDictionary=function(e,t,r,n){var o;return a(this,void 0,void 0,(function(){var i,a,u,c;return s(this,(function(s){switch(s.label){case 0:if(this.checkSetup(),!(i=n||this.casperClient))throw Error(l);return(u=r)?[3,2]:[4,i.nodeClient.getStateRootHash()];case 1:u=s.sent(),s.label=2;case 2:return a=u,[4,i.nodeClient.getDictionaryItemByName(a,this.contractHash,e,t)];case 3:if((c=s.sent())&&(null===(o=c.CLValue)||void 0===o?void 0:o.isCLValue))return[2,c.CLValue];throw Error("Invalid stored value")}}))}))},e}();t.Contract=y,t.toCLMap=function(e){for(var t=u.CLValueBuilder.map([u.CLTypeBuilder.string(),u.CLTypeBuilder.string()]),r=0,n=Array.from(e.entries());r<n.length;r++){var o=n[r],i=o[0],a=o[1];t.set(u.CLValueBuilder.string(i),u.CLValueBuilder.string(a))}return t},t.fromCLMap=function(e){for(var t=new Map,r=0,n=e;r<n.length;r++){var o=n[r],i=o[0],a=o[1];t.set(i.value(),a.value())}return t}},5157:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.motesToCSPR=t.csprToMotes=t.decodeBase16=t.encodeBase16=t.base64to16=t.decodeBase64=t.encodeBase64=void 0;var n=r(5757);function o(e){return new Uint8Array(Buffer.from(e,"base64"))}function i(e){return Buffer.from(e).toString("hex")}t.encodeBase64=function(e){return Buffer.from(e).toString("base64")},t.decodeBase64=o,t.base64to16=function(e){return i(o(e))},t.encodeBase16=i,t.decodeBase16=function(e){return new Uint8Array(Buffer.from(e,"hex"))},t.csprToMotes=function(e){return n.BigNumber.from(e).mul("1000000000")},t.motesToCSPR=function(e){return n.BigNumber.from(e).div("1000000000")}},636:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deployToBytes=t.arrayEquals=t.validateDeploy=t.deploySizeInBytes=t.addArgToDeploy=t.deployFromJson=t.deployToJson=t.standardPayment=t.setSignature=t.signDeploy=t.makeDeployWithAutoTimestamp=t.makeDeploy=t.DeployParams=t.ContractType=t.serializeApprovals=t.serializeBody=t.serializeHeader=t.Deploy=t.ExecutableDeployItem=t.Transfer=t.StoredVersionedContractByHash=t.StoredVersionedContractByName=t.StoredContractByName=t.StoredContractByHash=t.ModuleBytes=t.Approval=t.DeployHeader=t.UniqAddress=t.dehumanizerTTL=t.humanizerTTL=void 0;var p=r(543),l=r(9935),y=r(5757),f=r(2493),d=c(r(3205)),h=r(5157),v=r(9814),g=r(7269),m=r(5923),b=r(4493),T=r(2238),w=r(2520),_=r(9344),C=r(8581),P=r(6286),E=d.default.humanizer({spacer:"",serialComma:!1,conjunction:" ",delimiter:" ",language:"shortEn",languages:{shortEn:{d:function(){return"day"},h:function(){return"h"},m:function(){return"m"},s:function(){return"s"},ms:function(){return"ms"}}}}),B=function(e){return(0,h.encodeBase16)(e)},L=function(e){return(0,h.decodeBase16)(e)};t.humanizerTTL=function(e){return E(e)},t.dehumanizerTTL=function(e){return e.split(" ").map((function(e){if(e.includes("ms"))return Number(e.replace("ms",""));if(e.includes("s")&&!e.includes("m"))return 1e3*Number(e.replace("s",""));if(e.includes("m")&&!e.includes("s"))return 60*Number(e.replace("m",""))*1e3;if(e.includes("h"))return 60*Number(e.replace("h",""))*60*1e3;if(e.includes("day"))return 24*Number(e.replace("day",""))*60*60*1e3;throw Error("Unsuported TTL unit")})).reduce((function(e,t){return e+t}))};var S=function(){function e(e,t){if(!(e instanceof v.CLPublicKey))throw new Error("publicKey is not an instance of CLPublicKey");var r=y.BigNumber.from(t);if(r.gt("18446744073709551615"))throw new Error("transferId max value is U64");this.transferId=r,this.publicKey=e}return e.prototype.toString=function(){return"".concat(this.publicKey.toHex(),"-").concat(this.transferId.toHexString())},e.fromString=function(t){var r=t.split("-"),n=r[0],o=r[1];return new e(v.CLPublicKey.fromHex(n),o)},e}();t.UniqAddress=S;var O=function(){function e(e,t,r,n,o,i,a){this.account=e,this.timestamp=t,this.ttl=r,this.gasPrice=n,this.bodyHash=o,this.dependencies=i,this.chainName=a}return e.prototype.toBytes=function(){return(0,p.Ok)((0,l.concat)([v.CLValueParsers.toBytes(this.account).unwrap(),(0,g.toBytesU64)(this.timestamp),(0,g.toBytesU64)(this.ttl),(0,g.toBytesU64)(this.gasPrice),(0,g.toBytesDeployHash)(this.bodyHash),(0,g.toBytesVector)(this.dependencies.map((function(e){return new A(e)}))),(0,g.toBytesString)(this.chainName)]))},i([(0,f.jsonMember)({serializer:function(e){return e.toHex()},deserializer:function(e){return v.CLPublicKey.fromHex(e,!1)}}),a("design:type",v.CLPublicKey)],e.prototype,"account",void 0),i([(0,f.jsonMember)({serializer:function(e){return new Date(e).toISOString()},deserializer:function(e){return Date.parse(e)}}),a("design:type",Number)],e.prototype,"timestamp",void 0),i([(0,f.jsonMember)({serializer:t.humanizerTTL,deserializer:t.dehumanizerTTL}),a("design:type",Number)],e.prototype,"ttl",void 0),i([(0,f.jsonMember)({constructor:Number,name:"gas_price"}),a("design:type",Number)],e.prototype,"gasPrice",void 0),i([(0,f.jsonMember)({name:"body_hash",serializer:B,deserializer:L}),a("design:type",Uint8Array)],e.prototype,"bodyHash",void 0),i([(0,f.jsonArrayMember)(Uint8Array,{serializer:function(e){return e.map((function(e){return B(e)}))},deserializer:function(e){return e.map((function(e){return L(e)}))}}),a("design:type",Array)],e.prototype,"dependencies",void 0),i([(0,f.jsonMember)({name:"chain_name",constructor:String}),a("design:type",String)],e.prototype,"chainName",void 0),i([f.jsonObject,a("design:paramtypes",[v.CLPublicKey,Number,Number,Number,Uint8Array,Array,String])],e)}();t.DeployHeader=O;var A=function(){function e(e){this.hash=e}return e.prototype.toBytes=function(){return(0,p.Ok)((0,g.toBytesDeployHash)(this.hash))},e}(),U=function(){function e(){}return i([(0,f.jsonMember)({constructor:String}),a("design:type",String)],e.prototype,"signer",void 0),i([(0,f.jsonMember)({constructor:String}),a("design:type",String)],e.prototype,"signature",void 0),i([f.jsonObject],e)}();t.Approval=U;var j=function(){function e(){}return e.prototype.getArgByName=function(e){return this.args.args.get(e)},e.prototype.setArg=function(e,t){this.args.args.set(e,t)},e}(),k=function(e){var t={args:e};return new f.TypedJSON(m.RuntimeArgs).parse(t)},H=function(e){var t=new f.TypedJSON(m.RuntimeArgs).toPlainJson(e);return Object.values(t)[0]},M=function(e){function t(t,r){var n=e.call(this)||this;return n.tag=0,n.moduleBytes=t,n.args=r,n}return o(t,e),t.prototype.toBytes=function(){return this.args?(0,p.Ok)((0,l.concat)([Uint8Array.from([this.tag]),(0,g.toBytesArrayU8)(this.moduleBytes),(0,g.toBytesBytesArray)(this.args.toBytes().unwrap())])):(0,p.Err)(v.CLErrorCodes.Formatting)},i([(0,f.jsonMember)({name:"module_bytes",serializer:B,deserializer:L}),a("design:type",Uint8Array)],t.prototype,"moduleBytes",void 0),i([(0,f.jsonMember)({deserializer:k,serializer:H}),a("design:type",m.RuntimeArgs)],t.prototype,"args",void 0),i([f.jsonObject,a("design:paramtypes",[Uint8Array,m.RuntimeArgs])],t)}(j);t.ModuleBytes=M;var K=function(e){function t(t,r,n){var o=e.call(this)||this;return o.tag=1,o.entryPoint=r,o.args=n,o.hash=t,o}return o(t,e),t.prototype.toBytes=function(){return(0,p.Ok)((0,l.concat)([Uint8Array.from([this.tag]),(0,g.toBytesBytesArray)(this.hash),(0,g.toBytesString)(this.entryPoint),(0,g.toBytesBytesArray)(this.args.toBytes().unwrap())]))},i([(0,f.jsonMember)({serializer:B,deserializer:L}),a("design:type",Uint8Array)],t.prototype,"hash",void 0),i([(0,f.jsonMember)({name:"entry_point",constructor:String}),a("design:type",String)],t.prototype,"entryPoint",void 0),i([(0,f.jsonMember)({deserializer:k,serializer:H}),a("design:type",m.RuntimeArgs)],t.prototype,"args",void 0),i([f.jsonObject,a("design:paramtypes",[Uint8Array,String,m.RuntimeArgs])],t)}(j);t.StoredContractByHash=K;var N=function(e){function t(t,r,n){var o=e.call(this)||this;return o.tag=2,o.name=t,o.entryPoint=r,o.args=n,o}return o(t,e),t.prototype.toBytes=function(){return(0,p.Ok)((0,l.concat)([Uint8Array.from([this.tag]),(0,g.toBytesString)(this.name),(0,g.toBytesString)(this.entryPoint),(0,g.toBytesBytesArray)(this.args.toBytes().unwrap())]))},i([(0,f.jsonMember)({constructor:String}),a("design:type",String)],t.prototype,"name",void 0),i([(0,f.jsonMember)({name:"entry_point",constructor:String}),a("design:type",String)],t.prototype,"entryPoint",void 0),i([(0,f.jsonMember)({deserializer:k,serializer:H}),a("design:type",m.RuntimeArgs)],t.prototype,"args",void 0),i([f.jsonObject,a("design:paramtypes",[String,String,m.RuntimeArgs])],t)}(j);t.StoredContractByName=N;var R=function(e){function t(t,r,n,o){var i=e.call(this)||this;return i.tag=4,i.name=t,i.version=r,i.entryPoint=n,i.args=o,i}return o(t,e),t.prototype.toBytes=function(){var e;return e=null===this.version?new v.CLOption(p.None,new v.CLU32Type):new v.CLOption((0,p.Some)(new v.CLU32(this.version))),(0,p.Ok)((0,l.concat)([Uint8Array.from([this.tag]),(0,g.toBytesString)(this.name),v.CLValueParsers.toBytes(e).unwrap(),(0,g.toBytesString)(this.entryPoint),(0,g.toBytesBytesArray)(this.args.toBytes().unwrap())]))},i([(0,f.jsonMember)({constructor:String}),a("design:type",String)],t.prototype,"name",void 0),i([(0,f.jsonMember)({constructor:Number,preserveNull:!0}),a("design:type",Object)],t.prototype,"version",void 0),i([(0,f.jsonMember)({name:"entry_point",constructor:String}),a("design:type",String)],t.prototype,"entryPoint",void 0),i([(0,f.jsonMember)({deserializer:k,serializer:H}),a("design:type",m.RuntimeArgs)],t.prototype,"args",void 0),i([f.jsonObject,a("design:paramtypes",[String,Object,String,m.RuntimeArgs])],t)}(j);t.StoredVersionedContractByName=R;var D=function(e){function t(t,r,n,o){var i=e.call(this)||this;return i.tag=3,i.hash=t,i.version=r,i.entryPoint=n,i.args=o,i}return o(t,e),t.prototype.toBytes=function(){var e;return e=null===this.version?new v.CLOption(p.None,new v.CLU32Type):new v.CLOption((0,p.Some)(new v.CLU32(this.version))),(0,p.Ok)((0,l.concat)([Uint8Array.from([this.tag]),(0,g.toBytesBytesArray)(this.hash),v.CLValueParsers.toBytes(e).unwrap(),(0,g.toBytesString)(this.entryPoint),(0,g.toBytesBytesArray)(this.args.toBytes().unwrap())]))},i([(0,f.jsonMember)({serializer:B,deserializer:L}),a("design:type",Uint8Array)],t.prototype,"hash",void 0),i([(0,f.jsonMember)({constructor:Number,preserveNull:!0}),a("design:type",Object)],t.prototype,"version",void 0),i([(0,f.jsonMember)({name:"entry_point",constructor:String}),a("design:type",String)],t.prototype,"entryPoint",void 0),i([(0,f.jsonMember)({deserializer:k,serializer:H}),a("design:type",m.RuntimeArgs)],t.prototype,"args",void 0),i([f.jsonObject,a("design:paramtypes",[Uint8Array,Object,String,m.RuntimeArgs])],t)}(j);t.StoredVersionedContractByHash=D;var x=function(e){function t(t){var r=e.call(this)||this;return r.tag=5,r.args=t,r}return o(t,e),t.prototype.toBytes=function(){return(0,p.Ok)((0,l.concat)([Uint8Array.from([this.tag]),(0,g.toBytesBytesArray)(this.args.toBytes().unwrap())]))},i([(0,f.jsonMember)({deserializer:k,serializer:H}),a("design:type",m.RuntimeArgs)],t.prototype,"args",void 0),i([f.jsonObject,a("design:paramtypes",[m.RuntimeArgs])],t)}(j);t.Transfer=x;var I=function(){function e(){}var t;return t=e,e.prototype.toBytes=function(){if(this.isModuleBytes())return this.moduleBytes.toBytes();if(this.isStoredContractByHash())return this.storedContractByHash.toBytes();if(this.isStoredContractByName())return this.storedContractByName.toBytes();if(this.isStoredVersionContractByHash())return this.storedVersionedContractByHash.toBytes();if(this.isStoredVersionContractByName())return this.storedVersionedContractByName.toBytes();if(this.isTransfer())return this.transfer.toBytes();throw new Error("failed to serialize ExecutableDeployItemJsonWrapper")},e.prototype.getArgByName=function(e){if(this.isModuleBytes())return this.moduleBytes.getArgByName(e);if(this.isStoredContractByHash())return this.storedContractByHash.getArgByName(e);if(this.isStoredContractByName())return this.storedContractByName.getArgByName(e);if(this.isStoredVersionContractByHash())return this.storedVersionedContractByHash.getArgByName(e);if(this.isStoredVersionContractByName())return this.storedVersionedContractByName.getArgByName(e);if(this.isTransfer())return this.transfer.getArgByName(e);throw new Error("failed to serialize ExecutableDeployItemJsonWrapper")},e.prototype.setArg=function(e,t){if(this.isModuleBytes())return this.moduleBytes.setArg(e,t);if(this.isStoredContractByHash())return this.storedContractByHash.setArg(e,t);if(this.isStoredContractByName())return this.storedContractByName.setArg(e,t);if(this.isStoredVersionContractByHash())return this.storedVersionedContractByHash.setArg(e,t);if(this.isStoredVersionContractByName())return this.storedVersionedContractByName.setArg(e,t);if(this.isTransfer())return this.transfer.setArg(e,t);throw new Error("failed to serialize ExecutableDeployItemJsonWrapper")},e.fromExecutableDeployItemInternal=function(e){var r=new t;switch(e.tag){case 0:r.moduleBytes=e;break;case 1:r.storedContractByHash=e;break;case 2:r.storedContractByName=e;break;case 3:r.storedVersionedContractByHash=e;break;case 4:r.storedVersionedContractByName=e;break;case 5:r.transfer=e}return r},e.newModuleBytes=function(e,r){return t.fromExecutableDeployItemInternal(new M(e,r))},e.newStoredContractByHash=function(e,r,n){return t.fromExecutableDeployItemInternal(new K(e,r,n))},e.newStoredContractByName=function(e,r,n){return t.fromExecutableDeployItemInternal(new N(e,r,n))},e.newStoredVersionContractByHash=function(e,r,n,o){return t.fromExecutableDeployItemInternal(new D(e,r,n,o))},e.newStoredVersionContractByName=function(e,r,n,o){return t.fromExecutableDeployItemInternal(new R(e,r,n,o))},e.newTransfer=function(e,r,n,o){void 0===n&&(n=null);var i=m.RuntimeArgs.fromMap({});if(i.insert("amount",v.CLValueBuilder.u512(e)),n&&i.insert("source",n),r instanceof v.CLURef)i.insert("target",r);else{if(!(r instanceof v.CLPublicKey))throw new Error("Please specify target");i.insert("target",r)}if(void 0===o)throw new Error("transfer-id missing in new transfer.");return i.insert("id",v.CLValueBuilder.option((0,p.Some)(new v.CLU64(o)),new v.CLU64Type)),t.fromExecutableDeployItemInternal(new x(i))},e.newTransferWithOptionalTransferId=function(e,r,n,o){var i=m.RuntimeArgs.fromMap({});if(i.insert("amount",v.CLValueBuilder.u512(e)),n&&i.insert("source",n),r instanceof v.CLURef)i.insert("target",r);else{if(!(r instanceof v.CLPublicKey))throw new Error("Please specify target");i.insert("target",v.CLValueBuilder.byteArray(r.toAccountHash()))}return null!=o?i.insert("id",v.CLValueBuilder.option((0,p.Some)(v.CLValueBuilder.u64(o)),v.CLTypeBuilder.u64())):i.insert("id",v.CLValueBuilder.option(p.None,v.CLTypeBuilder.u64())),t.fromExecutableDeployItemInternal(new x(i))},e.newTransferToUniqAddress=function(e,t,r,n,o,i,a,s){void 0===i&&(i=1),void 0===a&&(a=C.DEFAULT_DEPLOY_TTL);var u=new b.DeployUtil.DeployParams(e,o,i,a),c=b.DeployUtil.standardPayment(n),p=b.DeployUtil.ExecutableDeployItem.newTransfer(r,t.publicKey,s,t.transferId);return b.DeployUtil.makeDeploy(u,p,c)},e.prototype.isModuleBytes=function(){return!!this.moduleBytes},e.prototype.asModuleBytes=function(){return this.moduleBytes},e.prototype.isStoredContractByHash=function(){return!!this.storedContractByHash},e.prototype.asStoredContractByHash=function(){return this.storedContractByHash},e.prototype.isStoredContractByName=function(){return!!this.storedContractByName},e.prototype.asStoredContractByName=function(){return this.storedContractByName},e.prototype.isStoredVersionContractByName=function(){return!!this.storedVersionedContractByName},e.prototype.asStoredVersionContractByName=function(){return this.storedVersionedContractByName},e.prototype.isStoredVersionContractByHash=function(){return!!this.storedVersionedContractByHash},e.prototype.asStoredVersionContractByHash=function(){return this.storedVersionedContractByHash},e.prototype.isTransfer=function(){return!!this.transfer},e.prototype.asTransfer=function(){return this.transfer},i([(0,f.jsonMember)({name:"ModuleBytes",constructor:M}),a("design:type",M)],e.prototype,"moduleBytes",void 0),i([(0,f.jsonMember)({name:"StoredContractByHash",constructor:K}),a("design:type",K)],e.prototype,"storedContractByHash",void 0),i([(0,f.jsonMember)({name:"StoredContractByName",constructor:N}),a("design:type",N)],e.prototype,"storedContractByName",void 0),i([(0,f.jsonMember)({name:"StoredVersionedContractByHash",constructor:D}),a("design:type",D)],e.prototype,"storedVersionedContractByHash",void 0),i([(0,f.jsonMember)({name:"StoredVersionedContractByName",constructor:R}),a("design:type",R)],e.prototype,"storedVersionedContractByName",void 0),i([(0,f.jsonMember)({name:"Transfer",constructor:x}),a("design:type",x)],e.prototype,"transfer",void 0),t=i([f.jsonObject],e)}();t.ExecutableDeployItem=I;var Y,V=function(){function e(e,t,r,n,o){this.approvals=o,this.session=n,this.payment=r,this.header=t,this.hash=e}return e.prototype.isTransfer=function(){return this.session.isTransfer()},e.prototype.isStandardPayment=function(){var e;return!!this.payment.isModuleBytes()&&0===(null===(e=this.payment.asModuleBytes())||void 0===e?void 0:e.moduleBytes.length)},e.prototype.send=function(e){return s(this,void 0,void 0,(function(){return u(this,(function(t){return[2,new w.CasperClient(e).putDeploy(this)]}))}))},e.prototype.sign=function(e){return e.reduce((function(e,r){return(0,t.signDeploy)(e,r)}),this)},i([(0,f.jsonMember)({serializer:B,deserializer:L}),a("design:type",Uint8Array)],e.prototype,"hash",void 0),i([(0,f.jsonMember)({constructor:O}),a("design:type",O)],e.prototype,"header",void 0),i([(0,f.jsonMember)({constructor:I}),a("design:type",I)],e.prototype,"payment",void 0),i([(0,f.jsonMember)({constructor:I}),a("design:type",I)],e.prototype,"session",void 0),i([(0,f.jsonArrayMember)(U),a("design:type",Array)],e.prototype,"approvals",void 0),i([f.jsonObject,a("design:paramtypes",[Uint8Array,O,I,I,Array])],e)}();t.Deploy=V,t.serializeHeader=function(e){return e.toBytes()},t.serializeBody=function(e,t){return(0,l.concat)([e.toBytes().unwrap(),t.toBytes().unwrap()])},t.serializeApprovals=function(e){var t=(0,g.toBytesU32)(e.length),r=(0,l.concat)(e.map((function(e){return(0,l.concat)([Uint8Array.from(Buffer.from(e.signer,"hex")),Uint8Array.from(Buffer.from(e.signature,"hex"))])})));return(0,l.concat)([t,r])},(Y=t.ContractType||(t.ContractType={})).WASM="WASM",Y.Hash="Hash",Y.Name="Name";function F(e,r,n){var o=(0,t.serializeBody)(n,r),i=(0,g.byteHash)(o);e.timestamp||(e.timestamp=Date.now());var a=new O(e.accountPublicKey,e.timestamp,e.ttl,e.gasPrice,i,e.dependencies,e.chainName),s=(0,t.serializeHeader)(a),u=(0,g.byteHash)(s.unwrap());return new V(u,a,n,r,[])}t.DeployParams=function(e,t,r,n,o,i){void 0===r&&(r=1),void 0===n&&(n=C.DEFAULT_DEPLOY_TTL),void 0===o&&(o=[]),this.accountPublicKey=e,this.chainName=t,this.gasPrice=r,this.ttl=n,this.dependencies=o,this.timestamp=i,this.dependencies=o.filter((function(e){return o.filter((function(t){return(0,h.encodeBase16)(e)===(0,h.encodeBase16)(t)})).length<2}))},t.makeDeploy=F,t.makeDeployWithAutoTimestamp=function(e,t,r){return s(this,void 0,void 0,(function(){var n;return u(this,(function(o){switch(o.label){case 0:return e.timestamp||"undefined"==typeof window?[3,2]:[4,new _.TimeService("".concat(location.protocol,"//").concat(P.TIME_API_URL)).getTime()];case 1:n=o.sent().unixtime,e.timestamp=n,o.label=2;case 2:return[2,F(e,t,r)]}}))}))},t.signDeploy=function(e,t){var r=new U,n=t.sign(e.hash);switch(r.signer=t.accountHex(),t.signatureAlgorithm){case T.SignatureAlgorithm.Ed25519:r.signature=b.Keys.Ed25519.accountHex(n);break;case T.SignatureAlgorithm.Secp256K1:r.signature=b.Keys.Secp256K1.accountHex(n)}return e.approvals.push(r),e},t.setSignature=function(e,t,r){var n=new U;return n.signer=r.toHex(),r.isEd25519()&&(n.signature=b.Keys.Ed25519.accountHex(t)),r.isSecp256K1()&&(n.signature=b.Keys.Secp256K1.accountHex(t)),e.approvals.push(n),e},t.standardPayment=function(e){var t=m.RuntimeArgs.fromMap({amount:v.CLValueBuilder.u512(e.toString())});return I.newModuleBytes(Uint8Array.from([]),t)},t.deployToJson=function(e){return{deploy:new f.TypedJSON(V).toPlainJson(e)}},t.deployFromJson=function(e){if(void 0===e.deploy)return new p.Err(new Error("The Deploy JSON doesn't have 'deploy' field."));var r=null;try{r=new f.TypedJSON(V).parse(e.deploy)}catch(e){return new p.Err(e)}if(null==r)return(0,p.Err)(new Error("The JSON can't be parsed as a Deploy."));var n=(0,t.validateDeploy)(r);return n.err?new p.Err(new Error(n.val)):new p.Ok(r)},t.addArgToDeploy=function(e,t,r){if(0!==e.approvals.length)throw Error("Can not add argument to already signed deploy.");var n=new b.DeployUtil.DeployParams(e.header.account,e.header.chainName,e.header.gasPrice,e.header.ttl,e.header.dependencies,e.header.timestamp),o=e.session;return o.setArg(t,r),F(n,o,e.payment)},t.deploySizeInBytes=function(e){var r=e.hash.length,n=(0,t.serializeBody)(e.payment,e.session).length;return r+(0,t.serializeHeader)(e.header).unwrap().length+n+e.approvals.map((function(e){return(e.signature.length+e.signer.length)/2})).reduce((function(e,t){return e+t}),0)},t.validateDeploy=function(e){if(!(e instanceof V))return new p.Err("'deploy' is not an instance of Deploy class.");var r=(0,t.serializeBody)(e.payment,e.session),n=(0,g.byteHash)(r);if(!(0,t.arrayEquals)(e.header.bodyHash,n))return(0,p.Err)("Invalid deploy: bodyHash mismatch. Expected: ".concat(n,",\n                  got: ").concat(e.header.bodyHash,"."));var o=(0,t.serializeHeader)(e.header).unwrap(),i=(0,g.byteHash)(o);return(0,t.arrayEquals)(e.hash,i)?e.approvals.every((function(t){var r=t.signer,n=t.signature,o=v.CLPublicKey.fromHex(r,!1),i=(0,h.decodeBase16)(n.slice(2));return(0,T.validateSignature)(e.hash,i,o)}))?(0,p.Ok)(e):(0,p.Err)("Invalid signature."):(0,p.Err)("Invalid deploy: hash mismatch. Expected: ".concat(i,",\n                  got: ").concat(e.hash,"."))},t.arrayEquals=function(e,t){return e.length===t.length&&e.every((function(e,r){return e===t[r]}))},t.deployToBytes=function(e){return(0,l.concat)([(0,t.serializeHeader)(e.header).unwrap(),e.hash,(0,t.serializeBody)(e.payment,e.session),(0,t.serializeApprovals)(e.approvals)])}},2238:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Secp256K1=t.Ed25519=t.AsymmetricKey=t.validateSignature=t.readBase64WithPEM=t.getKeysFromHexPrivKey=t.SignatureAlgorithm=void 0;var c=s(r(7147)),p=s(r(599)),l=s(r(2725)),y=r(1982),f=r(3750),d=r(2933),h=u(r(7075)),v=r(7108),g=r(9814),m=r(7269),b=r(8529),T=r(8529);Object.defineProperty(t,"SignatureAlgorithm",{enumerable:!0,get:function(){return T.SignatureAlgorithm}}),p.utils.sha512Sync=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(0,f.sha512)((e=p.utils).concatBytes.apply(e,t))},l.utils.hmacSha256Sync=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return(0,d.hmac)(y.sha256,e,(t=l.utils).concatBytes.apply(t,r))};var w=new h.default("secp256k1");function _(e,t){var r=Buffer.from([0]),n=Buffer.concat([Buffer.from(e),r]);return 0===t.length?Buffer.from([]):(0,m.byteHash)(Buffer.concat([n,Buffer.from(t)]))}function C(e){var t=e.split(/\r?\n/).filter((function(e){return!e.startsWith("---")})).join("").trim();return(0,v.decodeBase64)(t)}t.getKeysFromHexPrivKey=function(e,t){var r=(0,v.decodeBase64)(e);if(t===b.SignatureAlgorithm.Secp256K1){var n=B.parsePrivateKey(r),o=B.privateToPublicKey(n);return new B(o,n)}if(t===b.SignatureAlgorithm.Ed25519)return n=E.parsePrivateKey(r),o=E.privateToPublicKey(n),E.parseKeyPair(o,n);throw Error("Unsupported key type")},t.readBase64WithPEM=C,t.validateSignature=function(e,t,r){if(r.isEd25519())return p.sync.verify(t,e,r.value());if(r.isSecp256K1())return l.verify(t,(0,y.sha256)(Buffer.from(e)),r.value());throw Error("Unsupported PublicKey type")};var P=function(){function e(e,t,r){this.publicKey=new g.CLPublicKey(e,r),this.privateKey=t,this.signatureAlgorithm=r}return e.prototype.accountHash=function(){return this.publicKey.toAccountHash()},e.prototype.accountHex=function(){return this.publicKey.toHex()},e.prototype.toPem=function(e,t){return"-----BEGIN ".concat(e,"-----\n")+"".concat(t,"\n")+"-----END ".concat(e,"-----\n")},e}();t.AsymmetricKey=P;var E=function(e){function t(r){return 32!=r.secretKey.length&&console.warn("You're using private key from old version, please use newly formatted key with 32 bytes length."),e.call(this,r.publicKey,t.parsePrivateKey(r.secretKey),b.SignatureAlgorithm.Ed25519)||this}return o(t,e),t.new=function(){var e=p.utils.randomPrivateKey();return new t({secretKey:e,publicKey:p.sync.getPublicKey(e)})},t.accountHex=function(e){return"01"+(0,v.encodeBase16)(e)},t.parseKeyFiles=function(e,r){var n=t.parsePublicKeyFile(e),o=t.parsePrivateKeyFile(r);return new t({publicKey:n,secretKey:o})},t.accountHash=function(e){return _(b.SignatureAlgorithm.Ed25519,e)},t.parseKeyPair=function(e,r){var n=new t({publicKey:t.parsePublicKey(e),secretKey:t.parsePrivateKey(r)});if((0,v.encodeBase64)(t.privateToPublicKey(n.privateKey))!==(0,v.encodeBase64)(n.publicKey.value()))throw Error("Invalid key pairs");return n},t.parsePrivateKeyFile=function(e){return t.parsePrivateKey(t.readBase64File(e))},t.parsePublicKeyFile=function(e){return t.parsePublicKey(t.readBase64File(e))},t.parsePrivateKey=function(e){return t.parseKey(e,0,32)},t.parsePublicKey=function(e){return t.parseKey(e,32,64)},t.readBase64WithPEM=function(e){return C(e)},t.readBase64File=function(e){var r=c.readFileSync(e).toString();return t.readBase64WithPEM(r)},t.parseKey=function(e,t,r){var n=e.length,o=32===n?e:64===n?Buffer.from(e).slice(t,r):n>32&&n<64?Buffer.from(e).slice(n%32):null;if(null==o||32!==o.length)throw Error("Unexpected key length: ".concat(n));return o},t.prototype.exportPrivateKeyInPem=function(){var e=Buffer.from([48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32]),t=(0,v.encodeBase64)(Buffer.concat([e,Buffer.from(this.privateKey)]));return this.toPem("PRIVATE KEY",t)},t.prototype.exportPublicKeyInPem=function(){var e=Buffer.from([48,42,48,5,6,3,43,101,112,3,33,0]),t=(0,v.encodeBase64)(Buffer.concat([e,Buffer.from(this.publicKey.value())]));return this.toPem("PUBLIC KEY",t)},t.prototype.sign=function(e){return p.sync.sign(e,this.privateKey)},t.prototype.verify=function(e,t){return p.sync.verify(e,t,this.publicKey.value())},t.privateToPublicKey=function(e){return p.sync.getPublicKey(e)},t.loadKeyPairFromPrivateFile=function(e){var r=t.parsePrivateKeyFile(e),n=t.privateToPublicKey(r);return t.parseKeyPair(n,r)},t}(P);t.Ed25519=E;var B=function(e){function t(t,r){return e.call(this,t,r,b.SignatureAlgorithm.Secp256K1)||this}return o(t,e),t.new=function(){var e=l.utils.randomPrivateKey();return new t(l.getPublicKey(e,!0),e)},t.parseKeyFiles=function(e,r){var n=t.parsePublicKeyFile(e),o=t.parsePrivateKeyFile(r);return new t(n,o)},t.accountHash=function(e){return _(b.SignatureAlgorithm.Secp256K1,e)},t.accountHex=function(e){return"02"+(0,v.encodeBase16)(e)},t.parseKeyPair=function(e,r,n){var o=t.parsePublicKey(e,n),i=t.parsePrivateKey(r,n);return new t(o,i)},t.parsePrivateKeyFile=function(e){return t.parsePrivateKey(t.readBase64File(e))},t.parsePublicKeyFile=function(e){return t.parsePublicKey(t.readBase64File(e))},t.parsePrivateKey=function(e,t){var r;return void 0===t&&(t="der"),r="der"===t?w.encodePrivate(Buffer.from(e),"der","raw"):(0,v.encodeBase16)(e),Buffer.from(r,"hex")},t.parsePublicKey=function(e,t){var r;return void 0===t&&(t="der"),r="der"===t?w.encodePublic(Buffer.from(e),"der","raw"):(0,v.encodeBase16)(e),Uint8Array.from(Buffer.from(r,"hex"))},t.readBase64WithPEM=function(e){return C(e)},t.readBase64File=function(e){var r=c.readFileSync(e).toString();return t.readBase64WithPEM(r)},t.prototype.exportPrivateKeyInPem=function(){return w.encodePrivate((0,v.encodeBase16)(this.privateKey),"raw","pem")},t.prototype.exportPublicKeyInPem=function(){return w.encodePublic((0,v.encodeBase16)(this.publicKey.value()),"raw","pem")},t.prototype.sign=function(e){return l.signSync((0,y.sha256)(Buffer.from(e)),this.privateKey,{der:!1})},t.prototype.verify=function(e,t){return l.verify(e,(0,y.sha256)(Buffer.from(t)),this.publicKey.value())},t.privateToPublicKey=function(e){return l.getPublicKey(e,!0)},t.loadKeyPairFromPrivateFile=function(e){var r=t.parsePrivateKeyFile(e),n=t.privateToPublicKey(r);return t.parseKeyPair(n,r,"raw")},t}(P);t.Secp256K1=B},5923:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.RuntimeArgs=t.NamedArg=void 0;var i=r(543),a=r(7269),s=r(9814),u=r(9935),c=r(2493),p=function(){function e(e,t){this.name=e,this.value=t}return e.prototype.toBytes=function(){var e=(0,a.toBytesString)(this.name),t=s.CLValueParsers.toBytesWithType(this.value);return(0,i.Ok)((0,u.concat)([e,t.unwrap()]))},e.fromBytes=function(t){var r=(new s.CLStringBytesParser).fromBytesWithRemainder(t),n=r.result,o=r.remainder,a=n.unwrap();if(!o)return(0,s.resultHelper)((0,i.Err)("Missing data for value of named arg"));var u=s.CLValueParsers.fromBytesWithType(o).unwrap();return(0,s.resultHelper)((0,i.Ok)(new e(a.value(),u)))},e}();t.NamedArg=p;var l=function(e){var t=new Map(Array.from(e,(function(e){var t=e[0],r=e[1];return[t,s.CLValueParsers.fromJSON(r).unwrap()]})));if(t.size!==Array.from(e).length)throw Error("Duplicate key exists.");return t},y=function(e){return Array.from(e,(function(e){var t=e[0],r=e[1];return[t,s.CLValueParsers.toJSON(r).unwrap()]}))},f=function(){function e(e){this.args=e}var t;return t=e,e.fromMap=function(e){var r=new Map(Object.keys(e).map((function(t){return[t,e[t]]})));return new t(r)},e.fromNamedArgs=function(e){var r=e.reduce((function(e,t){return e[t.name]=t.value,e}),{});return t.fromMap(r)},e.prototype.insert=function(e,t){this.args.set(e,t)},e.prototype.toBytes=function(){var e=Array.from(this.args.entries()).map((function(e){return new p(e[0],e[1])}));return(0,i.Ok)((0,a.toBytesVector)(e))},e.fromBytes=function(e){for(var r=(new s.CLU32BytesParser).fromBytesWithRemainder(e),n=r.result,o=r.remainder,a=n.unwrap().value().toNumber(),u=o,c=[],l=0;l<a;l++){if(!u)return(0,s.resultHelper)((0,i.Err)("Error while parsing bytes"));var y=p.fromBytes(u),f=y.result,d=y.remainder;c.push(f.unwrap()),u=d}return(0,s.resultHelper)((0,i.Ok)(t.fromNamedArgs(c)),u)},n([(0,c.jsonMapMember)(String,s.CLValue,{serializer:y,deserializer:l}),o("design:type",Map)],e.prototype,"args",void 0),t=n([(0,c.jsonObject)(),o("design:paramtypes",[Map])],e)}();t.RuntimeArgs=f},2501:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Args=t.UInt64Arg=t.PublicKeyArg=t.ByteSequenceArg=t.ByteArrayArg=void 0;var r=function(e){var t=Buffer.alloc(4);return t.writeInt32LE(e,0),t};t.ByteArrayArg=function(e){return Buffer.from(e)},t.ByteSequenceArg=function(e){return Buffer.concat([r(e.length),e].map(Buffer.from))},t.PublicKeyArg=t.ByteArrayArg,t.UInt64Arg=function(e){var t=Buffer.alloc(8);return t.writeBigUInt64LE(e,0),t},t.Args=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=[r(e.length)].concat(e.map(t.ByteSequenceArg));return Buffer.concat(o.map(Buffer.from))}},2568:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.verifyMessageSignature=t.signFormattedMessage=t.signRawMessage=t.formatMessageWithHeaders=void 0;var a=i(r(599)),s=i(r(2725)),u=r(1982);t.formatMessageWithHeaders=function(e){return Uint8Array.from(Buffer.from("Casper Message:\n".concat(e)))},t.signRawMessage=function(e,r){return e.sign((0,t.formatMessageWithHeaders)(r))},t.signFormattedMessage=function(e,t){return e.sign(t)},t.verifyMessageSignature=function(e,r,n){var o=(0,t.formatMessageWithHeaders)(r);if(e.isEd25519())return a.sync.verify(n,o,e.value());if(e.isSecp256K1())return s.verify(n,(0,u.sha256)(Buffer.from(o)),e.value());throw new Error("Unsupported algorithm.")}},1070:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.events={}}return e.prototype.on=function(e,t){this.addEventListener(e,t)},e.prototype.addEventListener=function(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)},e.prototype.off=function(e,t){this.removeEventListener(e,t)},e.prototype.removeEventListener=function(e,t){if(!this.events[e])throw new Error("Can't remove a listener. Event \"".concat(e,"\" doesn't exits."));this.events[e]=this.events[e].filter((function(e){return e!==t}))},e.prototype.emit=function(e,t){var r;null===(r=this.events[e])||void 0===r||r.forEach((function(e){return e(t)}))},e}();t.default=r},3298:function(e,t){var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.signTestDeploy=t.getToSignMessageID=t.createTestAccount=t.createNewVault=t.resetExistingVault=t.hasCreatedVault=t.forceDisconnect=t.forceConnection=t.disconnectFromSite=t.signMessage=t.sign=t.getActivePublicKey=t.getSelectedPublicKeyBase64=t.sendConnectionRequest=t.isConnected=t.getVersion=void 0;var o=function(){return!(void 0===window.casperlabsHelper)};t.getVersion=function(){return r(void 0,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:if(!o())return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,window.casperlabsHelper.getVersion()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,"<1.0.0"];case 4:return[2,Promise.reject(new Error("Content script not found - make sure you have the Signer installed and refresh the page before trying again."))]}}))}))},t.isConnected=function(){return r(void 0,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return o()?[4,window.casperlabsHelper.isConnected()]:[3,2];case 1:return[2,e.sent()];case 2:return[2,Promise.reject(new Error("Content script not found - make sure you have the Signer installed and refresh the page before trying again."))]}}))}))},t.sendConnectionRequest=function(){if(o())return window.casperlabsHelper.requestConnection();throw new Error("Content script not found - make sure you have the Signer installed and refresh the page before trying again.")},t.getSelectedPublicKeyBase64=function(){if(o())return window.casperlabsHelper.getSelectedPublicKeyBase64();throw new Error("Content script not found - make sure you have the Signer installed and refresh the page before trying again.")},t.getActivePublicKey=function(){return o()?window.casperlabsHelper.getActivePublicKey():Promise.reject(new Error("Content script not found - make sure you have the Signer installed and refresh the page before trying again."))},t.sign=function(e,t,r){return o()?window.casperlabsHelper.sign(e,t,r):Promise.reject(new Error("Content script not found - make sure you have the Signer installed and refresh the page before trying again."))},t.signMessage=function(e,t){return o()?window.casperlabsHelper.signMessage(e,t):Promise.reject(new Error("Content script not found - make sure you have the Signer installed and refresh the page before trying again."))},t.disconnectFromSite=function(){return o()?window.casperlabsHelper.disconnectFromSite():Promise.reject(new Error("Content script not found - make sure you have the Signer installed and refresh the page before trying again."))},t.forceConnection=function(){return o()?window.signerTestingHelper.forceConnection():Promise.reject(new Error("Content script not found - make sure you have the Signer installed and refresh the page before trying again."))},t.forceDisconnect=function(){return o()?window.signerTestingHelper.forceDisconnect():Promise.reject(new Error("Content script not found - make sure you have the Signer installed and refresh the page before trying again."))},t.hasCreatedVault=function(){return o()?window.signerTestingHelper.hasCreatedVault():Promise.reject(new Error("Content script not found - make sure you have the Signer installed and refresh the page before trying again."))},t.resetExistingVault=function(){return o()?window.signerTestingHelper.resetExistingVault():Promise.reject(new Error("Content script not found - make sure you have the Signer installed and refresh the page before trying again."))},t.createNewVault=function(e){return o()?window.signerTestingHelper.createNewVault(e):Promise.reject(new Error("Content script not found - make sure you have the Signer installed and refresh the page before trying again."))},t.createTestAccount=function(e,t){return o()?window.signerTestingHelper.createTestAccount(e,t):Promise.reject(new Error("Content script not found - make sure you have the Signer installed and refresh the page before trying again."))},t.getToSignMessageID=function(){return o()?window.signerTestingHelper.getToSignMessageID():Promise.reject(new Error("Content script not found - make sure you have the Signer installed and refresh the page before trying again."))},t.signTestDeploy=function(e){return o()?window.signerTestingHelper.signTestDeploy(e):Promise.reject(new Error("Content script not found - make sure you have the Signer installed and refresh the page before trying again."))}},7845:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CasperWallet=void 0;var u=s(r(1070)),c=r(1965),p=r(4493),l="casper-wallet",y={Connected:"".concat(l,":connected"),ActiveKeyChanged:"".concat(l,":activeKeyChanged"),Disconnected:"".concat(l,":disconnected"),TabChanged:"".concat(l,":tabChanged"),Locked:"".concat(l,":locked"),Unlocked:"".concat(l,":unlocked")},f=function(e){function t(t){var r=e.call(this)||this;return r.isCasperWallet=!0,r.connected=!1,r.locked=!0,r.setOption(t),window.addEventListener(y.Connected,r.handleConnected.bind(r)),window.addEventListener(y.Disconnected,r.handleDisconnected.bind(r)),window.addEventListener(y.ActiveKeyChanged,r.handleActiveKeyChanged.bind(r)),window.addEventListener(y.Locked,r.handleLocked.bind(r)),window.addEventListener(y.Unlocked,r.handleUnlocked.bind(r)),window.addEventListener(y.TabChanged,r.handleTabChanged.bind(r)),r}return o(t,e),t.prototype.handleConnected=function(e){try{var t=JSON.parse(e.detail);this.updateState(t),this.emit("connected",this.activeAccount)}catch(e){console.error(e)}},t.prototype.handleDisconnected=function(e){try{var t=JSON.parse(e.detail);this.updateState(t),this.emit("disconnected")}catch(e){console.error(e)}},t.prototype.handleActiveKeyChanged=function(e){try{var t=JSON.parse(e.detail);this.updateState(t),this.emit("accountChanged",t.activeKey)}catch(e){console.error(e)}},t.prototype.handleLocked=function(e){try{var t=JSON.parse(e.detail);this.updateState(t),this.emit("locked")}catch(e){console.error(e)}},t.prototype.handleUnlocked=function(e){try{var t=JSON.parse(e.detail);this.updateState(t),this.emit("unlocked")}catch(e){console.error(e)}},t.prototype.handleTabChanged=function(e){try{var t=JSON.parse(e.detail);this.updateState(t)}catch(e){console.error(e)}},t.prototype.updateState=function(e){var t,r;this.connected=null!==(t=e.isConnected)&&void 0!==t&&t,this.activeAccount=null!==(r=e.activeKey)&&void 0!==r?r:void 0,this.locked=e.isLocked},t.prototype.getVersion=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.casperWalletProvider.getVersion()]}))}))},t.prototype.isConnected=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.casperWalletProvider.isConnected()]}))}))},t.prototype.connect=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.casperWalletProvider.requestConnection()];case 1:return e.sent(),[4,this.casperWalletProvider.getActivePublicKey()];case 2:return[2,e.sent()]}}))}))},t.prototype.disconnect=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.casperWalletProvider.disconnectFromSite()]}))}))},t.prototype.changeAccount=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){return[2,this.casperWalletProvider.requestSwitchAccount()]}))}))},t.prototype.signDeploy=function(e,t){return i(this,void 0,void 0,(function(){var r,n;return a(this,(function(o){switch(o.label){case 0:if(p.DeployUtil.deployFromJson(e).err)throw new c.SignerError(c.SignerErrorCodes.INVALID_DEPLOY);return[4,this.casperWalletProvider.sign(JSON.stringify(e),t)];case 1:if((r=o.sent()).cancelled)throw new c.SignerError(c.SignerErrorCodes.USER_CANCELED_REQUEST);return n=p.DeployUtil.setSignature(p.DeployUtil.deployFromJson(e).unwrap(),r.signature,p.CLPublicKey.fromHex(t)),[2,p.DeployUtil.deployToJson(n)]}}))}))},t.prototype.signMessage=function(e,t){return i(this,void 0,void 0,(function(){var r;return a(this,(function(n){switch(n.label){case 0:return[4,this.casperWalletProvider.signMessage(e,t)];case 1:if((r=n.sent()).cancelled)throw new c.SignerError(c.SignerErrorCodes.USER_CANCELED_REQUEST);return[2,r.signatureHex]}}))}))},t.prototype.getActiveAccount=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.casperWalletProvider.getActivePublicKey()];case 1:return[2,e.sent()]}}))}))},t.prototype.setOption=function(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){if(!window.CasperWalletProvider)throw new c.SignerError(c.SignerErrorCodes.NOT_FOUND_SIGNER);return this.casperWalletProvider=window.CasperWalletProvider(e),[2]}))}))},t}(u.default);t.CasperWallet=f},1965:function(e,t){var r,n,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.SignerErrorMessage=t.SignerErrorCodes=t.isSignerError=t.SignerError=void 0;var i,a=function(e){function r(r){var n=e.call(this,t.SignerErrorMessage[r])||this;return n.code=r,n.isSignerError=!0,n.message=t.SignerErrorMessage[r],n}return o(r,e),r}(Error);t.SignerError=a,t.isSignerError=function(e){return"object"==typeof e&&e.isSignerError},function(e){e[e.NOT_FOUND_SIGNER=0]="NOT_FOUND_SIGNER",e[e.USER_CANCELED_REQUEST=1]="USER_CANCELED_REQUEST",e[e.NOT_FOUND_ACCOUNT=2]="NOT_FOUND_ACCOUNT",e[e.INVALID_DEPLOY=3]="INVALID_DEPLOY",e[e.INTERNAL_ERROR=4]="INTERNAL_ERROR"}(i=t.SignerErrorCodes||(t.SignerErrorCodes={})),t.SignerErrorMessage=((n={})[i.NOT_FOUND_SIGNER]="Signer was not found.",n[i.USER_CANCELED_REQUEST]="User canceled the request.",n[i.NOT_FOUND_ACCOUNT]="The signer account was not found.",n[i.INVALID_DEPLOY]="The provided deploy is not valid.",n[i.INTERNAL_ERROR]="Internal error occurred.",n)},8022:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Signer=t.CasperWallet=void 0;var s=i(r(3298));t.Signer=s;var u=r(7845);Object.defineProperty(t,"CasperWallet",{enumerable:!0,get:function(){return u.CasperWallet}}),a(r(1965),t)},7524:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.StoredValue=t.ContractPackageJson=t.GroupsJson=t.DisabledVersionJson=t.ContractVersionJson=t.ContractMetadataJson=t.EntryPoint=t.NamedCLTypeArg=t.EraInfoJson=t.SeigniorageAllocation=t.DeployInfoJson=t.Transfers=t.TransferJson=void 0;var i=r(2493),a=r(9814),s=function(){function e(){}return n([(0,i.jsonMember)({constructor:String}),o("design:type",String)],e.prototype,"name",void 0),n([(0,i.jsonMember)({constructor:String}),o("design:type",String)],e.prototype,"key",void 0),n([i.jsonObject],e)}(),u=function(){function e(){}return n([(0,i.jsonMember)({name:"account_hash",constructor:String}),o("design:type",String)],e.prototype,"accountHash",void 0),n([(0,i.jsonMember)({constructor:Number}),o("design:type",Number)],e.prototype,"weight",void 0),n([i.jsonObject],e)}(),c=function(){function e(){}return n([(0,i.jsonMember)({constructor:Number}),o("design:type",Number)],e.prototype,"deployment",void 0),n([(0,i.jsonMember)({name:"key_management",constructor:Number}),o("design:type",Number)],e.prototype,"keyManagement",void 0),n([i.jsonObject],e)}(),p=function(){function e(){}return e.prototype.accountHash=function(){return this._accountHash},n([(0,i.jsonMember)({name:"account_hash",constructor:String}),o("design:type",String)],e.prototype,"_accountHash",void 0),n([(0,i.jsonArrayMember)(s,{name:"named_keys"}),o("design:type",Array)],e.prototype,"namedKeys",void 0),n([(0,i.jsonMember)({name:"main_purse",constructor:String}),o("design:type",String)],e.prototype,"mainPurse",void 0),n([(0,i.jsonArrayMember)(u,{name:"associated_keys"}),o("design:type",Array)],e.prototype,"associatedKeys",void 0),n([(0,i.jsonMember)({name:"action_thresholds",constructor:c}),o("design:type",c)],e.prototype,"actionThresholds",void 0),n([i.jsonObject],e)}(),l=function(){function e(){}return n([(0,i.jsonMember)({name:"deploy_hash",constructor:String}),o("design:type",String)],e.prototype,"deployHash",void 0),n([(0,i.jsonMember)({constructor:String}),o("design:type",String)],e.prototype,"from",void 0),n([(0,i.jsonMember)({constructor:String}),o("design:type",String)],e.prototype,"to",void 0),n([(0,i.jsonMember)({constructor:String}),o("design:type",String)],e.prototype,"source",void 0),n([(0,i.jsonMember)({constructor:String}),o("design:type",String)],e.prototype,"target",void 0),n([(0,i.jsonMember)({constructor:String}),o("design:type",String)],e.prototype,"amount",void 0),n([(0,i.jsonMember)({constructor:String}),o("design:type",String)],e.prototype,"gas",void 0),n([(0,i.jsonMember)({constructor:Number,preserveNull:!0}),o("design:type",Object)],e.prototype,"id",void 0),n([i.jsonObject],e)}();t.TransferJson=l;var y=function(){function e(){}return n([(0,i.jsonArrayMember)(l),o("design:type",Array)],e.prototype,"transfers",void 0),n([i.jsonObject],e)}();t.Transfers=y;var f=function(){function e(){}return n([(0,i.jsonMember)({name:"deploy_hash",constructor:String}),o("design:type",String)],e.prototype,"deployHash",void 0),n([(0,i.jsonArrayMember)(String),o("design:type",Array)],e.prototype,"transfers",void 0),n([(0,i.jsonMember)({constructor:String}),o("design:type",String)],e.prototype,"from",void 0),n([(0,i.jsonMember)({constructor:String}),o("design:type",String)],e.prototype,"source",void 0),n([(0,i.jsonMember)({constructor:String}),o("design:type",String)],e.prototype,"gas",void 0),n([i.jsonObject],e)}();t.DeployInfoJson=f;var d=function(){function e(){}return n([(0,i.jsonMember)({name:"validator_public_key",constructor:String}),o("design:type",String)],e.prototype,"validatorPublicKey",void 0),n([(0,i.jsonMember)({constructor:String}),o("design:type",String)],e.prototype,"amount",void 0),n([i.jsonObject],e)}(),h=function(){function e(){}return n([(0,i.jsonMember)({name:"delegator_public_key",constructor:String}),o("design:type",String)],e.prototype,"delegatorPublicKey",void 0),n([(0,i.jsonMember)({name:"validator_public_key",constructor:String}),o("design:type",String)],e.prototype,"validatorPublicKey",void 0),n([(0,i.jsonMember)({constructor:String}),o("design:type",String)],e.prototype,"amount",void 0),n([i.jsonObject],e)}(),v=function(){function e(){}return n([(0,i.jsonMember)({constructor:d}),o("design:type",d)],e.prototype,"Validator",void 0),n([(0,i.jsonMember)({constructor:h}),o("design:type",h)],e.prototype,"Delegator",void 0),n([i.jsonObject],e)}();t.SeigniorageAllocation=v;var g=function(){function e(){}return n([(0,i.jsonArrayMember)(v,{name:"seigniorage_allocations"}),o("design:type",Array)],e.prototype,"seigniorageAllocations",void 0),n([i.jsonObject],e)}();t.EraInfoJson=g;var m=function(){function e(){}return n([(0,i.jsonMember)({constructor:String}),o("design:type",String)],e.prototype,"name",void 0),n([(0,i.jsonMember)({name:"cl_type",deserializer:function(e){return(0,a.matchTypeToCLType)(e)}}),o("design:type",a.CLType)],e.prototype,"clType",void 0),n([i.jsonObject],e)}();t.NamedCLTypeArg=m;var b=function(){function e(){}return n([(0,i.jsonMember)({name:"access",deserializer:function(e){return"string"==typeof e?e:null}}),o("design:type",String)],e.prototype,"access",void 0),n([(0,i.jsonMember)({name:"entry_point_type",constructor:String}),o("design:type",String)],e.prototype,"entryPointType",void 0),n([(0,i.jsonMember)({constructor:String}),o("design:type",String)],e.prototype,"name",void 0),n([(0,i.jsonMember)({name:"ret",deserializer:function(e){return(0,a.matchTypeToCLType)(e)}}),o("design:type",String)],e.prototype,"ret",void 0),n([(0,i.jsonArrayMember)(m),o("design:type",Array)],e.prototype,"args",void 0),n([i.jsonObject],e)}();t.EntryPoint=b;var T=function(){function e(){}return n([(0,i.jsonMember)({name:"contract_package_hash",constructor:String}),o("design:type",String)],e.prototype,"contractPackageHash",void 0),n([(0,i.jsonMember)({name:"contract_wasm_hash",constructor:String}),o("design:type",String)],e.prototype,"contractWasmHash",void 0),n([(0,i.jsonArrayMember)(b,{name:"entry_points"}),o("design:type",Array)],e.prototype,"entrypoints",void 0),n([(0,i.jsonMember)({name:"protocol_version",constructor:String}),o("design:type",String)],e.prototype,"protocolVersion",void 0),n([(0,i.jsonArrayMember)(s,{name:"named_keys"}),o("design:type",Array)],e.prototype,"namedKeys",void 0),n([i.jsonObject],e)}();t.ContractMetadataJson=T;var w=function(){function e(){}return n([(0,i.jsonMember)({name:"protocol_version_major",constructor:Number}),o("design:type",Number)],e.prototype,"protocolVersionMajor",void 0),n([(0,i.jsonMember)({name:"contract_version",constructor:Number}),o("design:type",Number)],e.prototype,"contractVersion",void 0),n([(0,i.jsonMember)({name:"contract_hash",constructor:String}),o("design:type",String)],e.prototype,"contractHash",void 0),n([i.jsonObject],e)}();t.ContractVersionJson=w;var _=function(){function e(){}return n([(0,i.jsonMember)({name:"protocol_version_major",constructor:Number}),o("design:type",Number)],e.prototype,"accessKey",void 0),n([(0,i.jsonMember)({name:"contract_version",constructor:Number}),o("design:type",Number)],e.prototype,"contractVersion",void 0),n([i.jsonObject],e)}();t.DisabledVersionJson=_;var C=function(){function e(){}return n([(0,i.jsonMember)({name:"group",constructor:String}),o("design:type",String)],e.prototype,"group",void 0),n([(0,i.jsonArrayMember)(String,{name:"keys"}),o("design:type",Array)],e.prototype,"keys",void 0),n([i.jsonObject],e)}();t.GroupsJson=C;var P=function(){function e(){}return n([(0,i.jsonMember)({name:"access_key",constructor:String}),o("design:type",String)],e.prototype,"accessKey",void 0),n([(0,i.jsonArrayMember)(w,{name:"versions"}),o("design:type",Array)],e.prototype,"versions",void 0),n([(0,i.jsonArrayMember)(_,{name:"disabled_versions"}),o("design:type",Array)],e.prototype,"disabledVersions",void 0),n([(0,i.jsonArrayMember)(C,{name:"groups"}),o("design:type",Array)],e.prototype,"groups",void 0),n([i.jsonObject],e)}();t.ContractPackageJson=P;var E=function(){function e(){}return n([(0,i.jsonMember)({deserializer:function(e){if(e)return a.CLValueParsers.fromJSON(e).unwrap()}}),o("design:type",a.CLValue)],e.prototype,"CLValue",void 0),n([(0,i.jsonMember)({constructor:p}),o("design:type",p)],e.prototype,"Account",void 0),n([(0,i.jsonMember)({constructor:String}),o("design:type",String)],e.prototype,"ContractWASM",void 0),n([(0,i.jsonMember)({constructor:T}),o("design:type",T)],e.prototype,"Contract",void 0),n([(0,i.jsonMember)({constructor:P}),o("design:type",P)],e.prototype,"ContractPackage",void 0),n([(0,i.jsonMember)({constructor:l}),o("design:type",l)],e.prototype,"Transfer",void 0),n([(0,i.jsonMember)({constructor:f}),o("design:type",f)],e.prototype,"DeployInfo",void 0),n([(0,i.jsonMember)({constructor:g}),o("design:type",g)],e.prototype,"EraInfo",void 0),n([i.jsonObject],e)}();t.StoredValue=E},4493:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Result=t.DeployUtil=t.Serialization=t.Keys=t.HDKeys=t.Contracts=void 0;var s=r(543);Object.defineProperty(t,"Result",{enumerable:!0,get:function(){return s.Result}});var u=i(r(4848));t.Contracts=u;var c=i(r(636));t.DeployUtil=c;var p=i(r(7045));t.HDKeys=p;var l=i(r(2238));t.Keys=l;var y=i(r(2501));t.Serialization=y,a(r(8022),t),a(r(9814),t),a(r(7524),t),a(r(5923),t),a(r(2520),t),a(r(2568),t),a(r(5157),t)},8529:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureAlgorithm=void 0,(r=t.SignatureAlgorithm||(t.SignatureAlgorithm={})).Ed25519="ed25519",r.Secp256K1="secp256k1"},8840:function(e,t){var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BalanceServiceByJsonRPC=void 0;var o=function(){function e(e){this.casperService=e,this.balanceUrefs=new Map}return e.prototype.getAccountBalance=function(e,t){return r(this,void 0,void 0,(function(){var r,o;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),[4,this.casperService.getStateRootHash(e)];case 1:return r=n.sent(),(o=this.balanceUrefs.get(t.toHex()))?[3,3]:[4,this.casperService.getAccountBalanceUrefByPublicKey(r,t)];case 2:(o=n.sent())&&this.balanceUrefs.set(t.toHex(),o),n.label=3;case 3:return o?[4,this.casperService.getAccountBalance(r,o)]:[2,void 0];case 4:return[2,n.sent()];case 5:return n.sent(),[2,void 0];case 6:return[2]}}))}))},e}();t.BalanceServiceByJsonRPC=o},2969:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CasperServiceByJsonRPC=t.EraSummary=t.PurseIdentifier=t.JSONRPCError=void 0;var c,p=r(5757),l=r(6509),y=r(2493),f=r(7108),d=u(r(7519)),h=r(6509);Object.defineProperty(t,"JSONRPCError",{enumerable:!0,get:function(){return h.JSONRPCError}}),(c=t.PurseIdentifier||(t.PurseIdentifier={})).MainPurseUnderPublicKey="main_purse_under_public_key",c.MainPurseUnderAccountHash="main_purse_under_account_hash",c.PurseUref="purse_uref";var v=function(){function e(){}return o([(0,y.jsonMember)({constructor:String,name:"block_hash"}),i("design:type",String)],e.prototype,"blockHash",void 0),o([(0,y.jsonMember)({constructor:Number,name:"era_id"}),i("design:type",Number)],e.prototype,"eraId",void 0),o([(0,y.jsonMember)((function(){return{constructor:f.StoredValue,name:"stored_value"}})),i("design:type",f.StoredValue)],e.prototype,"StoredValue",void 0),o([(0,y.jsonMember)({constructor:String,name:"state_root_hash"}),i("design:type",String)],e.prototype,"stateRootHash",void 0),o([y.jsonObject],e)}();t.EraSummary=v;var g=function(){function e(e){var t;if("string"==typeof e){var r=e.endsWith("/")?e.substring(0,e.length-1):e;r=r.endsWith("/rpc")?r:r+"/rpc",t=new l.HTTPTransport(r)}else t=new d.default(e);var n=new l.RequestManager([t]);this.client=new l.Client(n)}return e.prototype.getDeployInfo=function(e,t){return a(this,void 0,void 0,(function(){return s(this,(function(r){switch(r.label){case 0:return[4,this.client.request({method:"info_get_deploy",params:{deploy_hash:e}},null==t?void 0:t.timeout)];case 1:return[2,r.sent()]}}))}))},e.prototype.getBlockInfo=function(e,t){return a(this,void 0,void 0,(function(){return s(this,(function(r){switch(r.label){case 0:return[4,this.client.request({method:"chain_get_block",params:{block_identifier:{Hash:e}}},null==t?void 0:t.timeout).then((function(t){if(null!==t.block&&t.block.hash.toLowerCase()!==e.toLowerCase())throw new Error("Returned block does not have a matching hash.");return t}))];case 1:return[2,r.sent()]}}))}))},e.prototype.getBlockInfoByHeight=function(e,t){return a(this,void 0,void 0,(function(){return s(this,(function(r){switch(r.label){case 0:return[4,this.client.request({method:"chain_get_block",params:{block_identifier:{Height:e}}},null==t?void 0:t.timeout).then((function(t){if(null!==t.block&&t.block.header.height!==e)throw new Error("Returned block does not have a matching height.");return t}))];case 1:return[2,r.sent()]}}))}))},e.prototype.getLatestBlockInfo=function(e){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.client.request({method:"chain_get_block"},null==e?void 0:e.timeout)];case 1:return[2,t.sent()]}}))}))},e.prototype.getPeers=function(e){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.client.request({method:"info_get_peers"},null==e?void 0:e.timeout)];case 1:return[2,t.sent()]}}))}))},e.prototype.getStatus=function(e){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.client.request({method:"info_get_status"},null==e?void 0:e.timeout)];case 1:return[2,t.sent()]}}))}))},e.prototype.getValidatorsInfo=function(e,t){return a(this,void 0,void 0,(function(){return s(this,(function(r){switch(r.label){case 0:return[4,this.client.request({method:"state_get_auction_info",params:e?{block_identifier:{Hash:e}}:[]},null==t?void 0:t.timeout)];case 1:return[2,r.sent()]}}))}))},e.prototype.getValidatorsInfoByBlockHeight=function(e,t){return a(this,void 0,void 0,(function(){return s(this,(function(r){switch(r.label){case 0:return[4,this.client.request({method:"state_get_auction_info",params:{block_identifier:e>=0?{Height:e}:null}},null==t?void 0:t.timeout)];case 1:return[2,r.sent()]}}))}))},e.prototype.getAccountBalanceUrefByPublicKeyHash=function(e,t,r){return a(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.getBlockState(e,"account-hash-"+t,[],r).then((function(e){return e.Account}))];case 1:return[2,n.sent().mainPurse]}}))}))},e.prototype.getAccountBalanceUrefByPublicKey=function(e,t,r){return a(this,void 0,void 0,(function(){return s(this,(function(n){return[2,this.getAccountBalanceUrefByPublicKeyHash(e,(0,f.encodeBase16)(t.toAccountHash()),r)]}))}))},e.prototype.getAccountBalance=function(e,t,r){return a(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.client.request({method:"state_get_balance",params:{state_root_hash:e,purse_uref:t}},null==r?void 0:r.timeout).then((function(e){return p.BigNumber.from(e.balance_value)}))];case 1:return[2,n.sent()]}}))}))},e.prototype.queryBalance=function(e,t,r,n){return a(this,void 0,void 0,(function(){var o;return s(this,(function(i){switch(i.label){case 0:return[4,this.client.request({method:"query_balance",params:{purse_identifier:(o={},o[e]=t,o),state_identifier:r}},null==n?void 0:n.timeout).then((function(e){return p.BigNumber.from(e.balance)}))];case 1:return[2,i.sent()]}}))}))},e.prototype.getStateRootHash=function(e,t){return a(this,void 0,void 0,(function(){return s(this,(function(r){switch(r.label){case 0:return[4,this.client.request({method:"chain_get_state_root_hash",params:e?{block_identifier:e}:[]},null==t?void 0:t.timeout).then((function(e){return e.state_root_hash}))];case 1:return[2,r.sent()]}}))}))},e.prototype.getBlockState=function(e,t,r,n){return a(this,void 0,void 0,(function(){var o,i;return s(this,(function(a){switch(a.label){case 0:return[4,this.client.request({method:"state_get_item",params:{state_root_hash:e,key:t,path:r}},null==n?void 0:n.timeout)];case 1:return(o=a.sent()).error?[2,o]:(i=o.stored_value,[2,new y.TypedJSON(f.StoredValue).parse(i)])}}))}))},e.prototype.checkDeploySize=function(e){return a(this,void 0,void 0,(function(){var t;return s(this,(function(r){if((t=f.DeployUtil.deploySizeInBytes(e))>1048576)throw Error("Deploy can not be send, because it's too large: ".concat(t," bytes. ")+"Max size is 1 megabyte.");return[2]}))}))},e.prototype.deploy=function(e,t){return a(this,void 0,void 0,(function(){return s(this,(function(r){switch(r.label){case 0:return[4,this.checkDeploySize(e)];case 1:if(r.sent(),0==e.approvals.length)throw new Error("Required signed deploy");return[4,this.client.request({method:"account_put_deploy",params:f.DeployUtil.deployToJson(e)},null==t?void 0:t.timeout)];case 2:return[2,r.sent()]}}))}))},e.prototype.waitForDeploy=function(e,t){return void 0===t&&(t=6e4),a(this,void 0,void 0,(function(){var r,n,o;return s(this,(function(i){switch(i.label){case 0:r=function(e){return new Promise((function(t){return setTimeout(t,e)}))},n=setTimeout((function(){throw new Error("Timeout")}),t),i.label=1;case 1:return[4,this.getDeployInfo((0,f.encodeBase16)(e.hash))];case 2:return(o=i.sent()).execution_results.length>0?(clearTimeout(n),[2,o]):[3,3];case 3:return[4,r(400)];case 4:i.sent(),i.label=5;case 5:return[3,1];case 6:return[2]}}))}))},e.prototype.speculativeDeploy=function(e,t,r){return a(this,void 0,void 0,(function(){var o;return s(this,(function(i){switch(i.label){case 0:return[4,this.checkDeploySize(e)];case 1:return i.sent(),o=f.DeployUtil.deployToJson(e),[4,this.client.request({method:"speculative_exec",params:t?n(n({},o),{block_identifier:{Hash:t}}):n({},o)},null==r?void 0:r.timeout)];case 2:return[2,i.sent()]}}))}))},e.prototype.getBlockTransfers=function(e,t){return a(this,void 0,void 0,(function(){var r;return s(this,(function(n){switch(n.label){case 0:return[4,this.client.request({method:"chain_get_block_transfers",params:{block_identifier:e?{Hash:e}:null}},null==t?void 0:t.timeout)];case 1:return(r=n.sent()).error?[2,r]:[2,new y.TypedJSON(f.Transfers).parse(r)]}}))}))},e.prototype.getEraInfoBySwitchBlock=function(e,t){return a(this,void 0,void 0,(function(){var r;return s(this,(function(n){switch(n.label){case 0:return[4,this.client.request({method:"chain_get_era_info_by_switch_block",params:{block_identifier:e?{Hash:e}:null}},null==t?void 0:t.timeout)];case 1:return(r=n.sent()).error?[2,r]:[2,new y.TypedJSON(v).parse(r.era_summary)]}}))}))},e.prototype.getEraInfoBySwitchBlockHeight=function(e,t){return a(this,void 0,void 0,(function(){var r;return s(this,(function(n){switch(n.label){case 0:return[4,this.client.request({method:"chain_get_era_info_by_switch_block",params:{block_identifier:{Height:e}}},null==t?void 0:t.timeout)];case 1:return(r=n.sent()).error?[2,r]:[2,new y.TypedJSON(v).parse(r.era_summary)]}}))}))},e.prototype.getEraSummary=function(e){return a(this,void 0,void 0,(function(){var t;return s(this,(function(r){switch(r.label){case 0:return[4,this.client.request({method:"chain_get_era_summary",params:{block_identifier:e?{Hash:e}:null}})];case 1:return(t=r.sent()).error?[2,t]:[2,new y.TypedJSON(v).parse(t.era_summary)]}}))}))},e.prototype.getEraSummaryByBlockHeight=function(e){return a(this,void 0,void 0,(function(){var t;return s(this,(function(r){switch(r.label){case 0:return[4,this.client.request({method:"chain_get_era_summary",params:{block_identifier:void 0!==e&&e>=0?{Height:e}:null}})];case 1:return(t=r.sent()).error?[2,t]:[2,new y.TypedJSON(v).parse(t.era_summary)]}}))}))},e.prototype.getDictionaryItemByURef=function(e,t,r,n){var o;return a(this,void 0,void 0,(function(){var i,a,u;return s(this,(function(s){switch(s.label){case 0:return i=null!==(o=null==n?void 0:n.rawData)&&void 0!==o&&o,[4,this.client.request({method:"state_get_dictionary_item",params:{state_root_hash:e,dictionary_identifier:{URef:{seed_uref:r,dictionary_item_key:t}}}},null==n?void 0:n.timeout)];case 1:return(a=s.sent()).error?[2,a]:(u=a.stored_value,i?[2,u]:[2,new y.TypedJSON(f.StoredValue).parse(u)])}}))}))},e.prototype.getDictionaryItemByName=function(e,t,r,n,o){var i;return a(this,void 0,void 0,(function(){var a,u,c;return s(this,(function(s){switch(s.label){case 0:return a=null!==(i=null==o?void 0:o.rawData)&&void 0!==i&&i,[4,this.client.request({method:"state_get_dictionary_item",params:{state_root_hash:e,dictionary_identifier:{ContractNamedKey:{key:t,dictionary_name:r,dictionary_item_key:n}}}},null==o?void 0:o.timeout)];case 1:return(u=s.sent()).error?[2,u]:(c=u.stored_value,a?[2,c]:[2,new y.TypedJSON(f.StoredValue).parse(c)])}}))}))},e}();t.CasperServiceByJsonRPC=g},6032:function(e,t,r){var n=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseEvent=t.EventStream=t.EventName=t.DeployWatcher=void 0;var i,a=o(r(3685)),s=o(r(5687)),u=r(543);!function(e){e[e.NotAnEvent=0]="NotAnEvent",e[e.EarlyEndOfStream=1]="EarlyEndOfStream",e[e.MissingDataHeader=2]="MissingDataHeader",e[e.MissingDataHeaderAndId=3]="MissingDataHeaderAndId",e[e.MissingId=4]="MissingId"}(i||(i={}));var c,p=function(){function e(e){this.eventStreamUrl=e,this.watchList=[],this.es=new l(e)}return e.prototype.subscribe=function(e){this.watchList=n(n([],this.watchList,!0),e,!0)},e.prototype.unsubscribe=function(e){this.watchList=this.watchList.filter((function(t){return t.deployHash!==e}))},e.prototype.start=function(){var e=this;this.es.subscribe(c.DeployProcessed,(function(t){var r=t.body.DeployProcessed.deploy_hash,n=e.watchList.find((function(e){return e.deployHash===r}));n&&(n.eventHandlerFn(t),e.unsubscribe(r))})),this.es.start()},e.prototype.stop=function(){this.es.stop()},e}();t.DeployWatcher=p,function(e){e.BlockAdded="BlockAdded",e.BlockFinalized="BlockFinalized",e.FinalitySignature="FinalitySignature",e.Fault="Fault",e.DeployProcessed="DeployProcessed"}(c=t.EventName||(t.EventName={}));var l=function(){function e(e){this.eventStreamUrl=e,this.subscribedTo=[],this.pendingDeploysParts=[],this.pendingDeployString=""}return e.prototype.subscribe=function(e,t){return this.subscribedTo.some((function(t){return t.eventName===e}))?(0,u.Err)("Already subscribed to this event"):(this.subscribedTo.push({eventName:e,eventHandlerFn:t}),(0,u.Ok)(!0))},e.prototype.unsubscribe=function(e){return this.subscribedTo.some((function(t){return t.eventName===e}))?(this.subscribedTo=this.subscribedTo.filter((function(t){return t.eventName!==e})),(0,u.Ok)(!0)):(0,u.Err)("Cannot find provided subscription")},e.prototype.runEventsLoop=function(e){this.subscribedTo.forEach((function(t){e.body&&e.body.hasOwnProperty(t.eventName)&&t.eventHandlerFn(e)}))},e.prototype.start=function(e){var r=this;void 0===e&&(e=0);var n=this.eventStreamUrl.indexOf("?")>-1?"&":"?",o="".concat(this.eventStreamUrl).concat(n,"start_from=").concat(e);(o.startsWith("https://")?s.default.get:a.default.get)(o,(function(e){r.stream=e,e.on("data",(function(e){var n=(0,t.parseEvent)(Buffer.from(e).toString());if(n&&!n.err&&r.runEventsLoop(n),n.err===i.EarlyEndOfStream&&(r.pendingDeployString=n.body),n.err===i.MissingDataHeaderAndId&&(r.pendingDeployString+=n.body),n.err===i.MissingDataHeader){r.pendingDeployString+=n.body,r.pendingDeployString+="\nid:".concat(n.id);var o=(0,t.parseEvent)(r.pendingDeployString);null===o.err&&(r.pendingDeployString=""),r.runEventsLoop(o)}})),e.once("readable",(function(){console.info("Connected successfully to event stream endpoint.")})),e.on("error",(function(e){throw e})),e.on("timeout",(function(){throw Error("EventStream: Timeout error")})),e.on("close",(function(){throw Error("EventStream: Connection closed")}))}))},e.prototype.stop=function(){this.stream&&this.stream.pause()},e}();t.EventStream=l,t.parseEvent=function(e){if(!e.startsWith("data"))return n=(t=e.split("\n"))[0],r=t[1]&&t[1].startsWith("id:")?t[1].substr(3):null,":"===t[0]&&""===t[1]&&""===t[2]?{id:null,body:null,err:i.NotAnEvent}:r?{id:r,body:n,err:i.MissingDataHeader}:{id:null,body:n,err:i.MissingDataHeaderAndId};var t,r=(t=e.split("\n"))[1]&&t[1].startsWith("id:")?t[1].substr(3):null;try{var n=JSON.parse(t[0].substr(5));return r?{id:r,body:n,err:null}:{id:r,body:n,err:i.MissingId}}catch(e){return{id:r,body:n=t[0],err:i.EarlyEndOfStream}}}},7519:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(4275),u=r(7233),c=r(8740),p=function(e){function t(t){var r=e.call(this)||this;return r.provider=t,r.onlyNotifications=function(e){return e instanceof Array?e.every((function(e){return null===e.request.request.id||void 0===e.request.request.id})):null===e.request.id||void 0===e.request.id},r}return o(t,e),t.prototype.connect=function(){return Promise.resolve()},t.prototype.sendData=function(e,t){return void 0===t&&(t=null),i(this,void 0,void 0,(function(){var r,n,o,i,s,p,l;return a(this,(function(a){switch(a.label){case 0:r=this.transportRequestManager.addRequest(e,t),n=(0,u.getNotifications)(e),o=(0,u.getBatchRequests)(e),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.provider.sendAsync(e.request)];case 2:return i=a.sent(),s={id:e.request.id,jsonrpc:e.request.jsonrpc,result:i,error:null},this.transportRequestManager.settlePendingRequest(n),this.onlyNotifications(e)?[2,Promise.resolve()]:(l=this.transportRequestManager.resolveResponse(JSON.stringify(s)))?(this.transportRequestManager.settlePendingRequest(o,l),[2,Promise.reject(l)]):[3,4];case 3:return p=a.sent(),l=new c.JSONRPCError(p.message,c.ERR_UNKNOWN,p),this.transportRequestManager.settlePendingRequest(n,l),this.transportRequestManager.settlePendingRequest((0,u.getBatchRequests)(e),l),[2,Promise.reject(l)];case 4:return[2,r]}}))}))},t.prototype.close=function(){},t}(s.Transport);t.default=p},9344:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TimeService=void 0;var a=i(r(4809)),s=function(){function e(e){this.url=e}return e.prototype.getTime=function(){return n(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,(0,a.default)(this.url)];case 1:return[4,e.sent().json()];case 2:return[2,e.sent()]}}))}))},e}();t.TimeService=s},4400:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(2969),t),o(r(8840),t),o(r(6032),t)},5757:e=>{e.exports=require("@ethersproject/bignumber")},9935:e=>{e.exports=require("@ethersproject/bytes")},6644:e=>{e.exports=require("@ethersproject/constants")},1380:e=>{e.exports=require("@noble/curves/ed25519")},599:e=>{e.exports=require("@noble/ed25519")},2145:e=>{e.exports=require("@noble/hashes/_assert")},4364:e=>{e.exports=require("@noble/hashes/blake2b")},2933:e=>{e.exports=require("@noble/hashes/hmac")},6557:e=>{e.exports=require("@noble/hashes/ripemd160")},1982:e=>{e.exports=require("@noble/hashes/sha256")},3750:e=>{e.exports=require("@noble/hashes/sha512")},8797:e=>{e.exports=require("@noble/hashes/utils")},2725:e=>{e.exports=require("@noble/secp256k1")},6509:e=>{e.exports=require("@open-rpc/client-js")},8740:e=>{e.exports=require("@open-rpc/client-js/build/Error")},7233:e=>{e.exports=require("@open-rpc/client-js/build/Request")},4275:e=>{e.exports=require("@open-rpc/client-js/build/transports/Transport")},6271:e=>{e.exports=require("@scure/bip32")},1772:e=>{e.exports=require("@scure/bip39")},1713:e=>{e.exports=require("@scure/bip39/wordlists/english")},3205:e=>{e.exports=require("humanize-duration")},7075:e=>{e.exports=require("key-encoder")},4809:e=>{e.exports=require("node-fetch")},543:e=>{e.exports=require("ts-results")},2493:e=>{e.exports=require("typedjson")},7147:e=>{e.exports=require("fs")},3685:e=>{e.exports=require("http")},5687:e=>{e.exports=require("https")}},t={},r=function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}(7108);module.exports=r})();
//# sourceMappingURL=lib.cjs.js.map